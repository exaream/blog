<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="MySQL"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="MySQL"><meta property="og:description" content="MySQL"><meta property="og:type" content="article"><meta property="og:url" content="https://exaream.dev/mysql/basic/"><meta property="article:section" content="mysql"><meta property="article:published_time" content="2020-01-01T00:00:00+00:00"><meta property="article:modified_time" content="2020-01-01T00:00:00+00:00"><title>MySQL | Tech</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=stylesheet href=/book.min.49cdadbe506abefb21373eafd2736dcd26980f75e6d66bcbbf659b6d44e37551.css integrity="sha256-Sc2tvlBqvvshNz6v0nNtzSaYD3Xm1mvLv2WbbUTjdVE=" crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-W638642WNE"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W638642WNE",{anonymize_ip:!1})}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-W638642WNE"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W638642WNE")</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Tech</span></a></h2><h3 id=menu>Menu
<a class=anchor href=#menu>#</a></h3><ul><li><strong><a href=https://exaream.dev/english/>English</a></strong><ul><li><a href=https://exaream.dev/english/toeic/>TOEIC</a></li></ul></li><li><strong><a href=https://exaream.dev/git/>Git</a></strong><ul><li><a href=https://exaream.dev/git/basic/>Git Basic</a></li><li><a href=https://exaream.dev/git/tool/>Git Tool</a></li><li><a href=https://exaream.dev/git/multiple-github-account/>Multiple GitHub Account on 1 PC</a></li><li><a href=https://exaream.dev/git/gh/>gh</a></li><li><a href=https://exaream.dev/git/ghq/>ghq</a></li></ul></li><li><strong><a href=https://exaream.dev/container/>Container</a></strong><ul><li><a href=https://exaream.dev/container/docker/>Docker</a></li><li><a href=https://exaream.dev/container/docker-compose/>Docker Compose</a></li><li><a href=https://exaream.dev/container/docker-swarm/>Docker Swarm</a></li><li><a href=https://exaream.dev/container/docker-apple-silicon-mac/>Docker on Apple Silicon Mac</a></li></ul></li><li><strong><a href=https://exaream.dev/mysql/>MySQL</a></strong><ul><li><a href=https://exaream.dev/mysql/basic/>MySQL Basic</a></li><li><a href=https://exaream.dev/mysql/explain/>MySQL EXPLAIN</a></li></ul></li><li><strong><a href=https://exaream.dev/mysql/>PostgreSQL</a></strong><ul><li><a href=https://exaream.dev/postgresql/basic/>PostgreSQL Basic</a></li></ul></li><li><strong><a href=https://exaream.dev/go/>Go</a></strong><ul><li><a href=https://exaream.dev/go/check-list/>Go Check List</a></li><li><a href=https://exaream.dev/go/test/>Go Test</a></li><li><a href=https://exaream.dev/go/testscript/>Go TestScript</a></li><li><a href=https://exaream.dev/go/link/>Go Link</a></li><li><a href=https://exaream.dev/go/downgrade-version/>Go Downgrade</a></li></ul></li><li><strong><a href=https://exaream.dev/linux/>Linux</a></strong><ul><li><a href=https://exaream.dev/linux/command/>Linux Command</a></li><li><a href=https://exaream.dev/linux/ubuntu/>Ubuntu</a></li></ul></li><li><strong><a href=https://exaream.dev/python/>Python</a></strong><ul><li><a href=https://exaream.dev/python/basic/>Python Basic</a></li><li><a href=https://exaream.dev/python/ocr/>Python OCR</a></li></ul></li><li><strong><a href=https://exaream.dev/php/>PHP</a></strong><ul><li><a href=https://exaream.dev/php/phpunit/>PHPUnit</a></li><li><a href=https://exaream.dev/php/upgrade/>PHP Upgrade</a></li><li><a href=https://exaream.dev/php/phpmetrics/>PhpMetrics</a></li><li><a href=https://exaream.dev/php/command-line/>PHP Command Line</a></li></ul></li><li><strong><a href=https://exaream.dev/javascript/>JavaScript</a></strong><ul><li><a href=https://exaream.dev/javascript/nodejs/>Node.js</a></li></ul></li><li><strong><a href=https://exaream.dev/shellscript/>Shellscript</a></strong><ul><li><a href=https://exaream.dev/shellscript/memo/>Shellscript Memo</a></li></ul></li><li><strong><a href=https://exaream.dev/mac/>Mac</a></strong><ul><li><a href=https://exaream.dev/mac/setting/>Setting</a></li><li><a href=https://exaream.dev/mac/iterm2/>iTerm2</a></li><li><a href=https://exaream.dev/mac/brew/>Homebrew</a></li></ul></li><li><strong><a href=https://exaream.dev/tool/>Tool</a></strong><ul><li><a href=https://exaream.dev/tool/localstack/>localstack</a></li><li><a href=https://exaream.dev/tool/plantuml/>PlantUML</a></li><li><a href=https://exaream.dev/tool/hugo/>Hugo</a></li><li><a href=https://exaream.dev/tool/jenkins/>Jenkins</a></li><li><a href=https://exaream.dev/tool/vscode/>VS Code</a></li><li><a href=https://exaream.dev/tool/excel/>Excel</a></li><li><a href=https://exaream.dev/tool/mailcatcher/>MailCatcher</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>MySQL</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><h2>Tags</h2><ul class=tags><li><a href=/tags/mysql>MySQL</a><li><a href=/tags/sql>SQL</a></ul><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#preparation>Preparation</a><ul><li><a href=#install-to-macos>Install to macOS</a></li><li><a href=#start>Start</a></li><li><a href=#check-the-vertion>Check the vertion</a></li><li><a href=#make-initial-settings>Make initial settings</a></li></ul></li><li><a href=#設定ファイル>設定ファイル</a></li><li><a href=#ログイン>ログイン</a></li><li><a href=#バージョン>バージョン</a></li><li><a href=#タイムゾーン>タイムゾーン</a></li><li><a href=#文字コードと照合順序>文字コードと照合順序</a><ul><li><a href=#サーバ全体>サーバ全体</a></li><li><a href=#db単位>DB単位</a></li><li><a href=#カラム単位>カラム単位</a></li><li><a href=#照合順序が異なるカラムで結合>照合順序が異なるカラムで結合</a></li><li><a href=#文字コード-utf8mb4-のデフォルトの照合順序のmysqlバージョンごとの違い>文字コード <code>utf8mb4</code> のデフォルトの照合順序のMySQLバージョンごとの違い</a></li></ul></li><li><a href=#データベーステーブルカラムの一覧>データベース/テーブル/カラムの一覧</a><ul><li><a href=#データベースの一覧>データベースの一覧</a></li><li><a href=#テーブルの一覧>テーブルの一覧</a></li><li><a href=#テーブルごとの自動採番-auto_increment-の一覧>テーブルごとの自動採番 AUTO_INCREMENT の一覧</a></li><li><a href=#テーブルごとのカラムの一覧カンマ区切り>テーブルごとのカラムの一覧（カンマ区切り）</a></li><li><a href=#テーブルの物理名と論理名テーブルコメントの一覧>テーブルの物理名と論理名（テーブル・コメント）の一覧</a></li><li><a href=#カラムの物理名と論理名カラムコメントの一覧>カラムの物理名と論理名（カラム・コメント）の一覧</a></li><li><a href=#特定のカラムを含むテーブルの一覧>特定のカラムを含むテーブルの一覧</a></li><li><a href=#インデックスの一覧>インデックスの一覧</a></li><li><a href=#ビューの一覧>ビューの一覧</a></li></ul></li><li><a href=#テーブルのキー情報の一覧>テーブルのキー情報の一覧</a><ul><li><a href=#テーブルごとのプライマリーキー制約の一覧>テーブルごとのプライマリーキー制約の一覧</a></li><li><a href=#テーブルごとのユニークキー制約の一覧>テーブルごとのユニークキー制約の一覧</a></li><li><a href=#テーブルごとの外部キー制約の一覧>テーブルごとの外部キー制約の一覧</a></li><li><a href=#テーブルごとのプライマリーキーユニークキー外部キー一覧>テーブルごとのプライマリーキー・ユニークキー・外部キー一覧</a></li></ul></li><li><a href=#データ容量の一覧>データ容量の一覧</a><ul><li><a href=#データベースごとのサイズの一覧>データベースごとのサイズの一覧</a></li><li><a href=#データベースごとのテーブル数の一覧>データベースごとのテーブル数の一覧</a></li><li><a href=#テーブルごとのサイズの一覧>テーブルごとのサイズの一覧</a></li><li><a href=#テーブルごとのレコード数の一覧>テーブルごとのレコード数の一覧</a></li><li><a href=#データベーステーブルごとの件数容量カラムキー情報文字コードauto_incrementの一覧>データベース/テーブルごとの件数/容量/カラム/キー情報/文字コード/AUTO_INCREMENTの一覧</a></li></ul></li><li><a href=#データベース>データベース</a><ul><li><a href=#データベースの新規作成>データベースの新規作成</a></li><li><a href=#データベースの文字コードの変更>データベースの文字コードの変更</a></li></ul></li><li><a href=#ユーザー>ユーザー</a><ul><li><a href=#ユーザーの新規作成>ユーザーの新規作成</a></li><li><a href=#ユーザーのパスワードの設定>ユーザーのパスワードの設定</a></li><li><a href=#ユーザーの権限の設定>ユーザーの権限の設定</a></li></ul></li><li><a href=#権限>権限</a><ul><li><a href=#ユーザーごとの権限の一覧>ユーザーごとの権限の一覧</a></li><li><a href=#データベースごとの権限の一覧>データベースごとの権限の一覧</a></li><li><a href=#テーブルごとの権限の一覧>テーブルごとの権限の一覧</a></li><li><a href=#カラムごとの権限の一覧>カラムごとの権限の一覧</a></li><li><a href=#ユーザーごとデータベースごとテーブルごとカラムごとの権限の一覧>ユーザーごと・データベースごと・テーブルごと・カラムごとの権限の一覧</a></li></ul></li><li><a href=#日付時刻>日付・時刻</a><ul><li><a href=#日時フォーマット>日時フォーマット</a></li><li><a href=#現在時刻>現在時刻</a></li><li><a href=#現在時刻の時刻のみ>現在時刻の時刻のみ</a></li><li><a href=#今日>今日</a></li><li><a href=#昨日>昨日</a></li><li><a href=#明日>明日</a></li><li><a href=#1週間前>1週間前</a></li><li><a href=#1週間後>1週間後</a></li><li><a href=#当月1日>当月1日</a></li><li><a href=#当月末日>当月末日</a></li><li><a href=#当月1日当月末日>当月1日〜当月末日</a></li><li><a href=#先月1日>先月1日</a></li><li><a href=#先月末日>先月末日</a></li><li><a href=#来月1日>来月1日</a></li><li><a href=#来月末日>来月末日</a></li><li><a href=#昨年>昨年</a></li><li><a href=#来年>来年</a></li><li><a href=#3年前>3年前</a></li><li><a href=#3年後>3年後</a></li><li><a href=#日付の差分>日付の差分</a></li><li><a href=#年のみ>年のみ</a></li><li><a href=#月のみ>月のみ</a></li><li><a href=#日のみ>日のみ</a></li><li><a href=#曜日>曜日</a></li><li><a href=#曜日日本語>曜日（日本語）</a></li><li><a href=#年内の歴週>年内の歴週</a></li><li><a href=#年内の通日>年内の通日</a></li></ul></li><li><a href=#便利関数>便利関数</a><ul><li><a href=#値がnullの場合の初期値を返却-ifnull>値がNULLの場合の初期値を返却 IFNULL</a></li><li><a href=#最初のnull以外の値を返却-coalesce>最初のNULL以外の値を返却 COALESCE</a></li><li><a href=#カンマ区切りで結合-group_concat>カンマ区切りで結合 GROUP_CONCAT</a></li><li><a href=#カンマ区切りの値を検索-find_in_set>カンマ区切りの値を検索 FIND_IN_SET</a></li><li><a href=#指定した順番に並べ替え-field>指定した順番に並べ替え FIELD</a></li></ul></li><li><a href=#条件分岐-case>条件分岐 CASE</a></li><li><a href=#便利sql>便利SQL</a><ul><li><a href=#select句の値を変数にセット>SELECT句の値を変数にセット</a></li><li><a href=#selectinsert-select-したデータを-insert>SELECT/INSERT (SELECT したデータを INSERT)</a></li><li><a href=#selectupdate-select-したデータを-update>SELECT/UPDATE (SELECT したデータを UPDATE)</a></li><li><a href=#特定のカラムの値が重複しているレコードを抽出-havinggroup-by>特定のカラムの値が重複しているレコードを抽出 HAVING/GROUP BY</a></li></ul></li><li><a href=#置換>置換</a><ul><li><a href=#文字列を置換して更新>文字列を置換して更新</a></li></ul></li><li><a href=#改行コード>改行コード</a><ul><li><a href=#carriage-return-cr>Carriage Return (CR)</a></li><li><a href=#line-feed-lf>Line Feed (LF)</a></li><li><a href=#改行コードを半角スペースに置換>改行コードを半角スペースに置換</a></li></ul></li><li><a href=#view>VIEW</a><ul><li><a href=#view-の概要>VIEW の概要</a></li><li><a href=#viewの作成>VIEWの作成</a></li><li><a href=#view-の変更>VIEW の変更</a></li><li><a href=#viewのcreate文の確認>VIEWのCREATE文の確認</a></li><li><a href=#view-を削除>VIEW を削除</a></li><li><a href=#viewの一括drop文>VIEWの一括DROP文</a></li><li><a href=#viewの一覧を作成するcreate文の一覧>VIEWの一覧を作成するCREATE文の一覧</a></li></ul></li><li><a href=#その他>その他</a><ul><li><a href=#sqlの実行計画>SQLの実行計画</a></li><li><a href=#一時的なテーブルの作成>一時的なテーブルの作成</a></li><li><a href=#データベースへのコネクション数>データベースへのコネクション数</a></li><li><a href=#プロセスを終了kill>プロセスを終了(KILL)</a></li><li><a href=#特定の時間を経過しているプロセスを確認>特定の時間を経過しているプロセスを確認</a></li><li><a href=#複数のプロセスを終了kill>複数のプロセスを終了(KILL)</a></li><li><a href=#テーブルのロック状態>テーブルのロック状態</a></li><li><a href=#トランザクション>トランザクション</a></li></ul></li><li><a href=#auto_increment自動採番>AUTO_INCREMENT（自動採番）</a><ul><li><a href=#auto_increment自動採番の値を確認>AUTO_INCREMENT（自動採番）の値を確認</a></li><li><a href=#auto_increment自動採番の値を変更>AUTO_INCREMENT（自動採番）の値を変更</a></li></ul></li><li><a href=#設定>設定</a><ul><li><a href=#トランザクションのタイムアウト>トランザクションのタイムアウト</a></li></ul></li><li><a href=#暗号化>暗号化</a></li></ul></nav></aside></header><ol class=breadcrumb><li><a href=https://exaream.dev/>Home</a></li><li><a href=https://exaream.dev/mysql/>MySQL</a></li><li class=active><a href=https://exaream.dev/mysql/basic/>Basic</a></li></ol><article class=markdown><h1 id=mysql-basic>MySQL Basic
<a class=anchor href=#mysql-basic>#</a></h1><h2 id=preparation>Preparation
<a class=anchor href=#preparation>#</a></h2><h3 id=install-to-macos>Install to macOS
<a class=anchor href=#install-to-macos>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ brew install mysql
</span></span></code></pre></div><h3 id=start>Start
<a class=anchor href=#start>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ mysql.server start
</span></span><span style=display:flex><span>Starting MySQL
</span></span><span style=display:flex><span>....... SUCCESS!
</span></span></code></pre></div><h3 id=check-the-vertion>Check the vertion
<a class=anchor href=#check-the-vertion>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ mysql --version
</span></span><span style=display:flex><span>mysql  Ver 8.0.26 <span style=color:#66d9ef>for</span> macos11.3 on x86_64 <span style=color:#f92672>(</span>Homebrew<span style=color:#f92672>)</span>
</span></span></code></pre></div><h3 id=make-initial-settings>Make initial settings
<a class=anchor href=#make-initial-settings>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ mysql_secure_installation
</span></span></code></pre></div><ul><li>パスワード強度検証プラグインの利用有無</li><li>パスワード強度の選択</li><li>root ユーザーのパスワード設定</li><li>匿名ユーザーの削除</li><li>リモートからの root ユーザーとしてのログインの禁止</li><li>サンプル用 test データベースの削除</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-shell data-lang=shell><span style=display:flex;background-color:#3c3d38><span>$ mysql_secure_installation
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Securing the MySQL server deployment.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Connecting to MySQL using a blank password.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>VALIDATE PASSWORD COMPONENT can be used to test passwords
</span></span><span style=display:flex><span>and improve security. It checks the strength of password
</span></span><span style=display:flex><span>and allows the users to set only those passwords which are
</span></span><span style=display:flex><span>secure enough. Would you like to setup VALIDATE PASSWORD component?
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>### パスワード強度検証プラグインの利用</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No: y <span style=color:#75715e>### y と入力</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>There are three levels of password validation policy:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>LOW    Length &gt;<span style=color:#f92672>=</span> <span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>MEDIUM Length &gt;<span style=color:#f92672>=</span> 8, numeric, mixed <span style=color:#66d9ef>case</span>, and special characters
</span></span><span style=display:flex><span>STRONG Length &gt;<span style=color:#f92672>=</span> 8, numeric, mixed <span style=color:#66d9ef>case</span>, special characters and dictionary file
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>### パスワード検証ポリシーの選択</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>Please enter 0 <span style=color:#f92672>=</span> LOW, 1 <span style=color:#f92672>=</span> MEDIUM and 2 <span style=color:#f92672>=</span> STRONG: 2　<span style=color:#75715e>### 2 と入力</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Please set the password <span style=color:#66d9ef>for</span> root here.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex;background-color:#3c3d38><span>New password: <span style=color:#75715e>### rootユーザー用のパスワードを入力</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex;background-color:#3c3d38><span>Re-enter new password: <span style=color:#75715e>### rootユーザー用のパスワードを再入力</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Estimated strength of the password: <span style=color:#ae81ff>100</span>
</span></span><span style=display:flex><span>Do you wish to <span style=color:#66d9ef>continue</span> with the password provided?
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y　<span style=color:#75715e>### y と入力</span>
</span></span><span style=display:flex><span>By default, a MySQL installation has an anonymous user,
</span></span><span style=display:flex><span>allowing anyone to log into MySQL without having to have
</span></span><span style=display:flex><span>a user account created <span style=color:#66d9ef>for</span> them. This is intended only <span style=color:#66d9ef>for</span>
</span></span><span style=display:flex><span>testing, and to make the installation go a bit smoother.
</span></span><span style=display:flex><span>You should remove them before moving into a production
</span></span><span style=display:flex><span>environment.
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>### 匿名ユーザーの削除</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>Remove anonymous users? <span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y <span style=color:#75715e>### y と入力</span>
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Normally, root should only be allowed to connect from
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;localhost&#39;</span>. This ensures that someone cannot guess at
</span></span><span style=display:flex><span>the root password from the network.
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>### リモートからの root ログインの拒否</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>Disallow root login remotely? <span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y <span style=color:#75715e>### y と入力</span>
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>By default, MySQL comes with a database named <span style=color:#e6db74>&#39;test&#39;</span> that
</span></span><span style=display:flex><span>anyone can access. This is also intended only <span style=color:#66d9ef>for</span> testing,
</span></span><span style=display:flex><span>and should be removed before moving into a production
</span></span><span style=display:flex><span>environment.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>### test データベースの削除</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>Remove test database and access to it? <span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y　<span style=color:#75715e>### y と入力</span>
</span></span><span style=display:flex><span> - Dropping test database...
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> - Removing privileges on test database...
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Reloading the privilege tables will ensure that all changes
</span></span><span style=display:flex><span>made so far will take effect immediately.
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>### 特権テーブルの即時適用</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>Reload privilege tables now? <span style=color:#f92672>(</span>Press y|Y <span style=color:#66d9ef>for</span> Yes, any other key <span style=color:#66d9ef>for</span> No<span style=color:#f92672>)</span> : y　<span style=color:#75715e>### y と入力</span>
</span></span><span style=display:flex><span>Success.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>All <span style=color:#66d9ef>done</span>! 
</span></span></code></pre></div><h2 id=設定ファイル>設定ファイル
<a class=anchor href=#%e8%a8%ad%e5%ae%9a%e3%83%95%e3%82%a1%e3%82%a4%e3%83%ab>#</a></h2><p>設定ファイル <code>my.cnf</code> のパス、適用範囲、読み込み順序</p><table><thead><tr><th>#</th><th>Path</th><th>Scope</th></tr></thead><tbody><tr><td>1</td><td><code>/etc/my.cnf</code></td><td>グローバル</td></tr><tr><td>2</td><td><code>/etc/mysql/my.cnf</code></td><td>グローバル</td></tr><tr><td>3</td><td><code>~/my.cnf</code></td><td>ユーザー固有</td></tr></tbody></table><h2 id=ログイン>ログイン
<a class=anchor href=#%e3%83%ad%e3%82%b0%e3%82%a4%e3%83%b3>#</a></h2><p>e.g) rootユーザーでのログイン</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ mysql -uroot -p
</span></span><span style=display:flex><span>Enter password: <span style=color:#75715e>### 設定したパスワードを入力</span>
</span></span></code></pre></div><h2 id=バージョン>バージョン
<a class=anchor href=#%e3%83%90%e3%83%bc%e3%82%b8%e3%83%a7%e3%83%b3>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>VERSION</span>();
</span></span></code></pre></div><h2 id=タイムゾーン>タイムゾーン
<a class=anchor href=#%e3%82%bf%e3%82%a4%e3%83%a0%e3%82%be%e3%83%bc%e3%83%b3>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> VARIABLES <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;%time_zone%&#39;</span>;
</span></span></code></pre></div><p>タイムゾーンの変換</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#75715e>-- CONVERT_TZ(datetime, before_time_zone, after_time_zone)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>CONVERT_TZ</span>(<span style=color:#a6e22e>NOW</span>(), <span style=color:#e6db74>&#39;UTC&#39;</span>, <span style=color:#e6db74>&#39;Asia/Tokyo&#39;</span>);
</span></span></code></pre></div><h2 id=文字コードと照合順序>文字コードと照合順序
<a class=anchor href=#%e6%96%87%e5%ad%97%e3%82%b3%e3%83%bc%e3%83%89%e3%81%a8%e7%85%a7%e5%90%88%e9%a0%86%e5%ba%8f>#</a></h2><p>文字コード</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> VARIABLES <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;%character\_set\_%&#39;</span>;
</span></span></code></pre></div><p>照合順序(ソート順)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> VARIABLES <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;collation%&#39;</span>;
</span></span></code></pre></div><h3 id=サーバ全体>サーバ全体
<a class=anchor href=#%e3%82%b5%e3%83%bc%e3%83%90%e5%85%a8%e4%bd%93>#</a></h3><p>サーバの文字コードの確認</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> GLOBAL VARIABLES <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;character_set_server&#39;</span>;
</span></span></code></pre></div><p>サーバの照合順序(ソート順)の確認</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> GLOBAL VARIABLES <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;collation_server&#39;</span>;
</span></span></code></pre></div><h3 id=db単位>DB単位
<a class=anchor href=#db%e5%8d%98%e4%bd%8d>#</a></h3><p>DB作成時に文字コードと照合順序(ソート順)を設定</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#f92672>`</span>sample_db<span style=color:#f92672>`</span> <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> utf8mb4 <span style=color:#66d9ef>COLLATE</span> utf8mb4_bin;
</span></span></code></pre></div><p>DBの文字コードの確認</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> GLOBAL VARIABLES <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;character_set_database&#39;</span>;
</span></span></code></pre></div><p>DBの照合順序(ソート順)の確認</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> GLOBAL VARIABLES <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;collation_database&#39;</span>;
</span></span></code></pre></div><h3 id=カラム単位>カラム単位
<a class=anchor href=#%e3%82%ab%e3%83%a9%e3%83%a0%e5%8d%98%e4%bd%8d>#</a></h3><p>サーバやDBと異なる文字コードや照合順序(ソート順)を設定する方法</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>tbl1</span> (
</span></span><span style=display:flex><span>    id <span style=color:#66d9ef>bigint</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>    col1 <span style=color:#66d9ef>varchar</span>(<span style=color:#ae81ff>255</span>) <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> utf8mb4 <span style=color:#66d9ef>COLLATE</span> utf8mb4_0900_as_ci <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>ENGINE</span><span style=color:#f92672>=</span>InnoDB <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CHARSET</span><span style=color:#f92672>=</span>utf8 <span style=color:#66d9ef>COLLATE</span><span style=color:#f92672>=</span>utf8mb4_general_ci;
</span></span></code></pre></div><h3 id=照合順序が異なるカラムで結合>照合順序が異なるカラムで結合
<a class=anchor href=#%e7%85%a7%e5%90%88%e9%a0%86%e5%ba%8f%e3%81%8c%e7%95%b0%e3%81%aa%e3%82%8b%e3%82%ab%e3%83%a9%e3%83%a0%e3%81%a7%e7%b5%90%e5%90%88>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> sample_table_1 a
</span></span><span style=display:flex><span><span style=color:#66d9ef>INNER</span> <span style=color:#66d9ef>JOIN</span> sample_table_2 b
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>ON</span> a.name <span style=color:#f92672>=</span> b.name <span style=color:#66d9ef>COLLATE</span> utf8mb4_0900_as_ci;
</span></span></code></pre></div><h3 id=文字コード-utf8mb4-のデフォルトの照合順序のmysqlバージョンごとの違い>文字コード <code>utf8mb4</code> のデフォルトの照合順序のMySQLバージョンごとの違い
<a class=anchor href=#%e6%96%87%e5%ad%97%e3%82%b3%e3%83%bc%e3%83%89-utf8mb4-%e3%81%ae%e3%83%87%e3%83%95%e3%82%a9%e3%83%ab%e3%83%88%e3%81%ae%e7%85%a7%e5%90%88%e9%a0%86%e5%ba%8f%e3%81%aemysql%e3%83%90%e3%83%bc%e3%82%b8%e3%83%a7%e3%83%b3%e3%81%94%e3%81%a8%e3%81%ae%e9%81%95%e3%81%84>#</a></h3><table><thead><tr><th>Version</th><th>Character Set(文字コード)</th><th>Collation(照合順序=ソート順)</th></tr></thead><tbody><tr><td>>= 8.0</td><td><code>utf8mb4</code></td><td><code>utf8mb4_general_ci</code></td></tr><tr><td>&lt;= 5.7</td><td><code>utf8mb4</code></td><td><code>utf8mb4_0900_ai_ci</code></td></tr></tbody></table><h2 id=データベーステーブルカラムの一覧>データベース/テーブル/カラムの一覧
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%82%ab%e3%83%a9%e3%83%a0%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h2><h3 id=データベースの一覧>データベースの一覧
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>DATABASES</span>;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>DISTINCT</span> table_schema <span style=color:#66d9ef>AS</span> database_name
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema;
</span></span></code></pre></div><h3 id=テーブルの一覧>テーブルの一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>USE</span> sample_database;
</span></span><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>TABLES</span>;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>TABLES</span> <span style=color:#66d9ef>FROM</span> sample_database;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;BASE TABLE&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_type,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h3 id=テーブルごとの自動採番-auto_increment-の一覧>テーブルごとの自動採番 AUTO_INCREMENT の一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e8%87%aa%e5%8b%95%e6%8e%a1%e7%95%aa-auto_increment-%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto_increment</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;BASE TABLE&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h3 id=テーブルごとのカラムの一覧カンマ区切り>テーブルごとのカラムの一覧（カンマ区切り）
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e3%82%ab%e3%83%a9%e3%83%a0%e3%81%ae%e4%b8%80%e8%a6%a7%e3%82%ab%e3%83%b3%e3%83%9e%e5%8c%ba%e5%88%87%e3%82%8a>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>GROUP_CONCAT</span>(column_name) <span style=color:#66d9ef>AS</span> column_names
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.columns
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name
</span></span></code></pre></div><h3 id=テーブルの物理名と論理名テーブルコメントの一覧>テーブルの物理名と論理名（テーブル・コメント）の一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%ae%e7%89%a9%e7%90%86%e5%90%8d%e3%81%a8%e8%ab%96%e7%90%86%e5%90%8d%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%82%b3%e3%83%a1%e3%83%b3%e3%83%88%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> databae_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    table_comment
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;sample_database&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h3 id=カラムの物理名と論理名カラムコメントの一覧>カラムの物理名と論理名（カラム・コメント）の一覧
<a class=anchor href=#%e3%82%ab%e3%83%a9%e3%83%a0%e3%81%ae%e7%89%a9%e7%90%86%e5%90%8d%e3%81%a8%e8%ab%96%e7%90%86%e5%90%8d%e3%82%ab%e3%83%a9%e3%83%a0%e3%82%b3%e3%83%a1%e3%83%b3%e3%83%88%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> databae_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    column_name,
</span></span><span style=display:flex><span>    column_comment
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.columns
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name; 
</span></span></code></pre></div><h3 id=特定のカラムを含むテーブルの一覧>特定のカラムを含むテーブルの一覧
<a class=anchor href=#%e7%89%b9%e5%ae%9a%e3%81%ae%e3%82%ab%e3%83%a9%e3%83%a0%e3%82%92%e5%90%ab%e3%82%80%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> databae_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    column_name,
</span></span><span style=display:flex><span>    column_comment
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.columns
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> column_name <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;%sample_column%&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    column_name;
</span></span></code></pre></div><h3 id=インデックスの一覧>インデックスの一覧
<a class=anchor href=#%e3%82%a4%e3%83%b3%e3%83%87%e3%83%83%e3%82%af%e3%82%b9%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    column_name,
</span></span><span style=display:flex><span>    index_name
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.statistics
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    column_name;
</span></span></code></pre></div><h3 id=ビューの一覧>ビューの一覧
<a class=anchor href=#%e3%83%93%e3%83%a5%e3%83%bc%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name <span style=color:#66d9ef>AS</span> view_name
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;VIEW&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h2 id=テーブルのキー情報の一覧>テーブルのキー情報の一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%ae%e3%82%ad%e3%83%bc%e6%83%85%e5%a0%b1%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h2><h3 id=テーブルごとのプライマリーキー制約の一覧>テーブルごとのプライマリーキー制約の一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e3%83%97%e3%83%a9%e3%82%a4%e3%83%9e%e3%83%aa%e3%83%bc%e3%82%ad%e3%83%bc%e5%88%b6%e7%b4%84%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    column_name <span style=color:#66d9ef>AS</span> primary_key
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.KEY_COLUMN_USAGE
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    constraint_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;PRIMARY&#39;</span>;
</span></span></code></pre></div><h3 id=テーブルごとのユニークキー制約の一覧>テーブルごとのユニークキー制約の一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e3%83%a6%e3%83%8b%e3%83%bc%e3%82%af%e3%82%ad%e3%83%bc%e5%88%b6%e7%b4%84%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>GROUP_CONCAT</span>(column_name) <span style=color:#66d9ef>AS</span> unique_keys
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.KEY_COLUMN_USAGE
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    position_in_unique_constraint <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h3 id=テーブルごとの外部キー制約の一覧>テーブルごとの外部キー制約の一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e5%a4%96%e9%83%a8%e3%82%ad%e3%83%bc%e5%88%b6%e7%b4%84%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>GROUP_CONCAT</span>(
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>CONCAT</span>(
</span></span><span style=display:flex><span>            column_name,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;=&#39;</span>,
</span></span><span style=display:flex><span>            referenced_table_name,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;.&#39;</span>,
</span></span><span style=display:flex><span>            referenced_column_name
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> referenced
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.KEY_COLUMN_USAGE
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    referenced_table_name <span style=color:#66d9ef>IS</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h3 id=テーブルごとのプライマリーキーユニークキー外部キー一覧>テーブルごとのプライマリーキー・ユニークキー・外部キー一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e3%83%97%e3%83%a9%e3%82%a4%e3%83%9e%e3%83%aa%e3%83%bc%e3%82%ad%e3%83%bc%e3%83%a6%e3%83%8b%e3%83%bc%e3%82%af%e3%82%ad%e3%83%bc%e5%a4%96%e9%83%a8%e3%82%ad%e3%83%bc%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_info.<span style=color:#f92672>*</span>,
</span></span><span style=display:flex><span>    primary_info.primary_key,
</span></span><span style=display:flex><span>    unique_info.unique_keys,
</span></span><span style=display:flex><span>    reference_info.referenced
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    (
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>            table_name
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>            table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;BASE TABLE&#39;</span>
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> table_info
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> (
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>            table_name,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>GROUP_CONCAT</span>(column_name) <span style=color:#66d9ef>AS</span> unique_keys
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.KEY_COLUMN_USAGE
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>            position_in_unique_constraint <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>            table_schema,
</span></span><span style=display:flex><span>            table_name
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> unique_info <span style=color:#66d9ef>ON</span> table_info.database_name <span style=color:#f92672>=</span> unique_info.database_name
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_info.table_name <span style=color:#f92672>=</span> unique_info.table_name
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> (
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>            table_name,
</span></span><span style=display:flex><span>            column_name <span style=color:#66d9ef>AS</span> primary_key
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.KEY_COLUMN_USAGE
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>            constraint_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;PRIMARY&#39;</span>
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> primary_info <span style=color:#66d9ef>ON</span> table_info.database_name <span style=color:#f92672>=</span> primary_info.database_name
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_info.table_name <span style=color:#f92672>=</span> primary_info.table_name
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> (
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>            table_name,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>GROUP_CONCAT</span>(
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>CONCAT</span>(
</span></span><span style=display:flex><span>                    column_name,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;=&#39;</span>,
</span></span><span style=display:flex><span>                    referenced_table_name,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;.&#39;</span>,
</span></span><span style=display:flex><span>                    referenced_column_name
</span></span><span style=display:flex><span>                )
</span></span><span style=display:flex><span>            ) <span style=color:#66d9ef>AS</span> referenced
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.KEY_COLUMN_USAGE
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>            referenced_table_name <span style=color:#66d9ef>IS</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>            table_schema,
</span></span><span style=display:flex><span>            table_name
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> reference_info <span style=color:#66d9ef>ON</span> table_info.database_name <span style=color:#f92672>=</span> reference_info.database_name
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_info.table_name <span style=color:#f92672>=</span> reference_info.table_name
</span></span></code></pre></div><h2 id=データ容量の一覧>データ容量の一覧
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e5%ae%b9%e9%87%8f%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h2><h3 id=データベースごとのサイズの一覧>データベースごとのサイズの一覧
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%81%94%e3%81%a8%e3%81%ae%e3%82%b5%e3%82%a4%e3%82%ba%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>CONCAT</span>(
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SUM</span>(data_length <span style=color:#f92672>+</span> index_length) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1024</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1024</span>),
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39; MB&#39;</span>
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> db_size
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema;
</span></span></code></pre></div><h3 id=データベースごとのテーブル数の一覧>データベースごとのテーブル数の一覧
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%81%94%e3%81%a8%e3%81%ae%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e6%95%b0%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>COUNT</span>(<span style=color:#f92672>*</span>) <span style=color:#66d9ef>AS</span> table_count
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;BASE TABLE&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema;
</span></span></code></pre></div><h3 id=テーブルごとのサイズの一覧>テーブルごとのサイズの一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e3%82%b5%e3%82%a4%e3%82%ba%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>CONCAT</span>(
</span></span><span style=display:flex><span>        (data_length <span style=color:#f92672>+</span> index_length) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1024</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1024</span>),
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39; MB&#39;</span>
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> table_size
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;BASE TABLE&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    (data_length <span style=color:#f92672>+</span> index_length) <span style=color:#66d9ef>DESC</span>,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h3 id=テーブルごとのレコード数の一覧>テーブルごとのレコード数の一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e3%83%ac%e3%82%b3%e3%83%bc%e3%83%89%e6%95%b0%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    table_rows
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span> <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span>target<span style=color:#f92672>`</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;BASE TABLE&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_rows <span style=color:#66d9ef>DESC</span>,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h3 id=データベーステーブルごとの件数容量カラムキー情報文字コードauto_incrementの一覧>データベース/テーブルごとの件数/容量/カラム/キー情報/文字コード/AUTO_INCREMENTの一覧
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e4%bb%b6%e6%95%b0%e5%ae%b9%e9%87%8f%e3%82%ab%e3%83%a9%e3%83%a0%e3%82%ad%e3%83%bc%e6%83%85%e5%a0%b1%e6%96%87%e5%ad%97%e3%82%b3%e3%83%bc%e3%83%89auto_increment%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_info.table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>    database_info.table_count,
</span></span><span style=display:flex><span>    database_info.db_size,
</span></span><span style=display:flex><span>    table_info.table_name,
</span></span><span style=display:flex><span>    table_info.table_rows,
</span></span><span style=display:flex><span>    table_info.table_size,
</span></span><span style=display:flex><span>    columns_info.column_names,
</span></span><span style=display:flex><span>    key_info.primary_key,
</span></span><span style=display:flex><span>    key_info.unique_keys,
</span></span><span style=display:flex><span>    key_info.referenced,
</span></span><span style=display:flex><span>    table_info.<span style=color:#66d9ef>auto_increment</span>,
</span></span><span style=display:flex><span>    table_info.table_collation <span style=color:#66d9ef>AS</span> character_info
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    (
</span></span><span style=display:flex><span>        <span style=color:#75715e>-- 全テーブル情報
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>*</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>CONCAT</span>(
</span></span><span style=display:flex><span>                (data_length <span style=color:#f92672>+</span> index_length) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1024</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1024</span>),
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39; MB&#39;</span>
</span></span><span style=display:flex><span>            ) <span style=color:#66d9ef>AS</span> table_size
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>AND</span> table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;BASE TABLE&#39;</span>
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> table_info
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> (
</span></span><span style=display:flex><span>        <span style=color:#75715e>-- データベースの容量とテーブル数
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>CONCAT</span>(
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>SUM</span>(data_length <span style=color:#f92672>+</span> index_length) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1024</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1024</span>),
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39; MB&#39;</span>
</span></span><span style=display:flex><span>            ) <span style=color:#66d9ef>AS</span> db_size,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>SUM</span>(
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>CASE</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>WHEN</span> table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;BASE TABLE&#39;</span> <span style=color:#66d9ef>THEN</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>ELSE</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>                END
</span></span><span style=display:flex><span>            ) <span style=color:#66d9ef>AS</span> table_count
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>            table_schema
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> database_info <span style=color:#66d9ef>ON</span> table_info.table_schema <span style=color:#f92672>=</span> database_info.database_name
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> (
</span></span><span style=display:flex><span>        <span style=color:#75715e>-- テーブルごとのカラム
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>            table_name,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>GROUP_CONCAT</span>(column_name) <span style=color:#66d9ef>AS</span> column_names
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.columns
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>            table_schema,
</span></span><span style=display:flex><span>            table_name
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> columns_info <span style=color:#66d9ef>ON</span> table_info.table_schema <span style=color:#f92672>=</span> columns_info.database_name
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_info.table_name <span style=color:#f92672>=</span> columns_info.table_name
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> (
</span></span><span style=display:flex><span>        <span style=color:#75715e>-- テーブルのキー情報（プライマリーキー、ユニークキー、外部キー）
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            table_info.<span style=color:#f92672>*</span>,
</span></span><span style=display:flex><span>            primary_info.primary_key,
</span></span><span style=display:flex><span>            unique_info.unique_keys,
</span></span><span style=display:flex><span>            reference_info.referenced
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            (
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>                    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>                    table_name
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>                    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>                    table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;BASE TABLE&#39;</span>
</span></span><span style=display:flex><span>            ) <span style=color:#66d9ef>AS</span> table_info
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> (
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>                    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>                    table_name,
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>GROUP_CONCAT</span>(column_name) <span style=color:#66d9ef>AS</span> unique_keys
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>                    information_schema.KEY_COLUMN_USAGE
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>                    position_in_unique_constraint <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>                    table_schema,
</span></span><span style=display:flex><span>                    table_name
</span></span><span style=display:flex><span>            ) <span style=color:#66d9ef>AS</span> unique_info <span style=color:#66d9ef>ON</span> table_info.database_name <span style=color:#f92672>=</span> unique_info.database_name
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>AND</span> table_info.table_name <span style=color:#f92672>=</span> unique_info.table_name
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> (
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>                    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>                    table_name,
</span></span><span style=display:flex><span>                    column_name <span style=color:#66d9ef>AS</span> primary_key
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>                    information_schema.KEY_COLUMN_USAGE
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>                    constraint_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;PRIMARY&#39;</span>
</span></span><span style=display:flex><span>            ) <span style=color:#66d9ef>AS</span> primary_info <span style=color:#66d9ef>ON</span> table_info.database_name <span style=color:#f92672>=</span> primary_info.database_name
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>AND</span> table_info.table_name <span style=color:#f92672>=</span> primary_info.table_name
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> (
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>                    table_schema <span style=color:#66d9ef>AS</span> database_name,
</span></span><span style=display:flex><span>                    table_name,
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>GROUP_CONCAT</span>(
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>CONCAT</span>(
</span></span><span style=display:flex><span>                            column_name,
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;=&#39;</span>,
</span></span><span style=display:flex><span>                            referenced_table_name,
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;.&#39;</span>,
</span></span><span style=display:flex><span>                            referenced_column_name
</span></span><span style=display:flex><span>                        )
</span></span><span style=display:flex><span>                    ) <span style=color:#66d9ef>AS</span> referenced
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>                    information_schema.KEY_COLUMN_USAGE
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>                    referenced_table_name <span style=color:#66d9ef>IS</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>                    table_schema,
</span></span><span style=display:flex><span>                    table_name
</span></span><span style=display:flex><span>            ) <span style=color:#66d9ef>AS</span> reference_info <span style=color:#66d9ef>ON</span> table_info.database_name <span style=color:#f92672>=</span> reference_info.database_name
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>AND</span> table_info.table_name <span style=color:#f92672>=</span> reference_info.table_name
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> key_info <span style=color:#66d9ef>ON</span> table_info.table_schema <span style=color:#f92672>=</span> key_info.database_name
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_info.table_name <span style=color:#f92672>=</span> key_info.table_name
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_info.table_schema,
</span></span><span style=display:flex><span>    table_info.table_name;
</span></span></code></pre></div><h2 id=データベース>データベース
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9>#</a></h2><h3 id=データベースの新規作成>データベースの新規作成
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%81%ae%e6%96%b0%e8%a6%8f%e4%bd%9c%e6%88%90>#</a></h3><blockquote class="book-hint info"><ul><li>CHARACTER SET 文字コード<ul><li>utf8mb4 絵文字にも対応。</li></ul></li><li>COLLATE 照合順序<ul><li>utf8mb4_bin: 全ての区別あり（大文字小文字/全角半角の区別あり）</li><li>utf8mb4_general_ci: 大文字小文字の区別なし</li><li>utf8mb4_unicode_ci: 大文字小文字/全角半角の区別なし</li></ul></li></ul></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> sample_db <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> <span style=color:#f92672>=</span> utf8mb4 <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>COLLATE</span> <span style=color:#f92672>=</span> utf8mb4_bin;
</span></span></code></pre></div><h3 id=データベースの文字コードの変更>データベースの文字コードの変更
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%81%ae%e6%96%87%e5%ad%97%e3%82%b3%e3%83%bc%e3%83%89%e3%81%ae%e5%a4%89%e6%9b%b4>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>DATABASE</span> sample_db <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> <span style=color:#f92672>=</span> utf8mb4;
</span></span></code></pre></div><h2 id=ユーザー>ユーザー
<a class=anchor href=#%e3%83%a6%e3%83%bc%e3%82%b6%e3%83%bc>#</a></h2><h3 id=ユーザーの新規作成>ユーザーの新規作成
<a class=anchor href=#%e3%83%a6%e3%83%bc%e3%82%b6%e3%83%bc%e3%81%ae%e6%96%b0%e8%a6%8f%e4%bd%9c%e6%88%90>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>USER</span> <span style=color:#e6db74>&#39;sample_user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;localhost&#39;</span> <span style=color:#66d9ef>IDENTIFIED</span> <span style=color:#66d9ef>BY</span> <span style=color:#e6db74>&#39;sample_password&#39;</span>;
</span></span></code></pre></div><h3 id=ユーザーのパスワードの設定>ユーザーのパスワードの設定
<a class=anchor href=#%e3%83%a6%e3%83%bc%e3%82%b6%e3%83%bc%e3%81%ae%e3%83%91%e3%82%b9%e3%83%af%e3%83%bc%e3%83%89%e3%81%ae%e8%a8%ad%e5%ae%9a>#</a></h3><h4 id=ログイン中ユーザーのパスワードの設定>ログイン中ユーザーのパスワードの設定
<a class=anchor href=#%e3%83%ad%e3%82%b0%e3%82%a4%e3%83%b3%e4%b8%ad%e3%83%a6%e3%83%bc%e3%82%b6%e3%83%bc%e3%81%ae%e3%83%91%e3%82%b9%e3%83%af%e3%83%bc%e3%83%89%e3%81%ae%e8%a8%ad%e5%ae%9a>#</a></h4><p>MySQL 5.5 & 5.6</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#75715e>-- ログイン中のユーザーを確認
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>CURRENT_USER</span>();
</span></span><span style=display:flex><span><span style=color:#75715e>-- パスワードを設定
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SET</span> PASSWORD <span style=color:#f92672>=</span> <span style=color:#a6e22e>PASSWORD</span>(<span style=color:#e6db74>&#39;sample_password&#39;</span>);
</span></span></code></pre></div><p>MySQL 5.7</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#75715e>-- ログイン中のユーザーを確認
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>CURRENT_USER</span>();
</span></span><span style=display:flex><span><span style=color:#75715e>-- パスワードを設定
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SET</span> PASSWORD <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;sample_password&#39;</span>;
</span></span></code></pre></div><p>MySQL 6</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>USER</span> <span style=color:#66d9ef>USER</span>() <span style=color:#66d9ef>IDENTIFIED</span> <span style=color:#66d9ef>BY</span> <span style=color:#e6db74>&#39;password&#39;</span>;
</span></span></code></pre></div><h4 id=特定のユーザーのパスワードの設定>特定のユーザーのパスワードの設定
<a class=anchor href=#%e7%89%b9%e5%ae%9a%e3%81%ae%e3%83%a6%e3%83%bc%e3%82%b6%e3%83%bc%e3%81%ae%e3%83%91%e3%82%b9%e3%83%af%e3%83%bc%e3%83%89%e3%81%ae%e8%a8%ad%e5%ae%9a>#</a></h4><p>via Command Line</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mysqladmin -u sample_user -h sample_host_name password <span style=color:#e6db74>&#34;sample_password&#34;</span>
</span></span></code></pre></div><p>MySQL 5.5 & 5.6</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SET</span> PASSWORD <span style=color:#66d9ef>FOR</span> <span style=color:#e6db74>&#39;sample_user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;sample_host_name&#39;</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>PASSWORD</span>(<span style=color:#e6db74>&#39;sample_password&#39;</span>);
</span></span></code></pre></div><p>MySQL 5.7</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SET</span> PASSWORD <span style=color:#66d9ef>FOR</span> <span style=color:#e6db74>&#39;sample_user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;sample_host_name&#39;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;sample_password&#39;</span>;
</span></span></code></pre></div><p>MySQL 8</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>USER</span> <span style=color:#e6db74>&#39;sample_user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;sample_host_name&#39;</span> <span style=color:#66d9ef>IDENTIFIED</span> <span style=color:#66d9ef>BY</span> <span style=color:#e6db74>&#39;sample_password&#39;</span>;
</span></span></code></pre></div><h3 id=ユーザーの権限の設定>ユーザーの権限の設定
<a class=anchor href=#%e3%83%a6%e3%83%bc%e3%82%b6%e3%83%bc%e3%81%ae%e6%a8%a9%e9%99%90%e3%81%ae%e8%a8%ad%e5%ae%9a>#</a></h3><h4 id=データベース権限>データベース権限
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e6%a8%a9%e9%99%90>#</a></h4><p>sample_user に sample_db の全テーブルの全ての権限を付与</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>ALL</span> <span style=color:#66d9ef>ON</span> sample_db.<span style=color:#f92672>*</span> <span style=color:#66d9ef>TO</span> <span style=color:#e6db74>&#39;sample_user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;localhost&#39;</span>;
</span></span></code></pre></div><p>sample_user に sample_db の全テーブルの参照/新規登録の権限を付与</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>SELECT</span>, <span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>ON</span> sample_db.<span style=color:#f92672>*</span> <span style=color:#66d9ef>TO</span> <span style=color:#e6db74>&#39;sample_user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;localhost&#39;</span>;
</span></span></code></pre></div><h4 id=テーブル権限>テーブル権限
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e6%a8%a9%e9%99%90>#</a></h4><p>sample_user に sample_db の sample_table の参照権限を付与</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>ON</span> sample_db.sample_table <span style=color:#66d9ef>TO</span> <span style=color:#e6db74>&#39;sample_user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;localhost&#39;</span>;
</span></span></code></pre></div><p>sample_user の既存の権限を変更せずに 1時間あたりの発行可能クエリ数を制限<blockquote class="book-hint info"><ul><li>MAX_QUERIES_PER_HOUR count クエリ数</li><li>MAX_UPDATES_PER_HOUR count 更新件数</li><li>MAX_CONNECTIONS_PER_HOUR count コネクション数（同時接続の最大数を制限）</li></ul><p>(結果がクエリーキャッシュから得られたクエリーは、MAX_QUERIES_PER_HOUR 制限に対してカウントされません。) count が 0 (デフォルト) である場合、これは、このアカウントに対する制限が存在しないことを示します。</p></blockquote></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>USAGE</span> <span style=color:#66d9ef>ON</span> <span style=color:#f92672>*</span>.<span style=color:#f92672>*</span> <span style=color:#66d9ef>TO</span> <span style=color:#e6db74>&#39;sample_user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;localhost&#39;</span> <span style=color:#66d9ef>WITH</span> MAX_QUERIES_PER_HOUR <span style=color:#ae81ff>100</span>;
</span></span></code></pre></div><h4 id=カラム権限>カラム権限
<a class=anchor href=#%e3%82%ab%e3%83%a9%e3%83%a0%e6%a8%a9%e9%99%90>#</a></h4><p>カラム権限で付与される権限 INSERT, SELECT, UPDATE の後にカッコで囲まれた 1つ以上のカラムを指定</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>SELECT</span> (sample_column_1, sample_column_2), <span style=color:#66d9ef>UPDATE</span> (sample_column_1) <span style=color:#66d9ef>ON</span> sample_db.sample_table <span style=color:#66d9ef>TO</span> <span style=color:#e6db74>&#39;sample_user&#39;</span><span style=color:#f92672>@</span><span style=color:#e6db74>&#39;localhost&#39;</span>;
</span></span></code></pre></div><h2 id=権限>権限
<a class=anchor href=#%e6%a8%a9%e9%99%90>#</a></h2><h3 id=ユーザーごとの権限の一覧>ユーザーごとの権限の一覧
<a class=anchor href=#%e3%83%a6%e3%83%bc%e3%82%b6%e3%83%bc%e3%81%94%e3%81%a8%e3%81%ae%e6%a8%a9%e9%99%90%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    grantee <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>user</span>,
</span></span><span style=display:flex><span>    is_grantable <span style=color:#66d9ef>AS</span> is_grantable,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>GROUP_CONCAT</span>(privilege_type) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>privileges</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.user_privileges
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    grantee,
</span></span><span style=display:flex><span>    is_grantable
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    grantee;
</span></span></code></pre></div><h3 id=データベースごとの権限の一覧>データベースごとの権限の一覧
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%81%94%e3%81%a8%e3%81%ae%e6%a8%a9%e9%99%90%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    grantee <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>user</span>,
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> db,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>GROUP_CONCAT</span>(privilege_type) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>privileges</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.schema_privileges
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    grantee,
</span></span><span style=display:flex><span>    table_schema
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    grantee,
</span></span><span style=display:flex><span>    table_schema;
</span></span></code></pre></div><h3 id=テーブルごとの権限の一覧>テーブルごとの権限の一覧
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%81%ae%e6%a8%a9%e9%99%90%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    grantee <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>user</span>,
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> db,
</span></span><span style=display:flex><span>    table_name <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>table</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>GROUP_CONCAT</span>(privilege_type) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>privileges</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.table_privileges
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    grantee,
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    grantee,
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h3 id=カラムごとの権限の一覧>カラムごとの権限の一覧
<a class=anchor href=#%e3%82%ab%e3%83%a9%e3%83%a0%e3%81%94%e3%81%a8%e3%81%ae%e6%a8%a9%e9%99%90%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    grantee <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>user</span>,
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>AS</span> db,
</span></span><span style=display:flex><span>    table_name <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>table</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>    column_name <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>column</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>GROUP_CONCAT</span>(privilege_type) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>privileges</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.column_privileges
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    grantee,
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    column_name
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    grantee,
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    column_name;
</span></span></code></pre></div><h3 id=ユーザーごとデータベースごとテーブルごとカラムごとの権限の一覧>ユーザーごと・データベースごと・テーブルごと・カラムごとの権限の一覧
<a class=anchor href=#%e3%83%a6%e3%83%bc%e3%82%b6%e3%83%bc%e3%81%94%e3%81%a8%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%81%94%e3%81%a8%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%94%e3%81%a8%e3%82%ab%e3%83%a9%e3%83%a0%e3%81%94%e3%81%a8%e3%81%ae%e6%a8%a9%e9%99%90%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    (
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            grantee <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>user</span>,
</span></span><span style=display:flex><span>            is_grantable <span style=color:#66d9ef>AS</span> is_grantable,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#66d9ef>AS</span> db,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>table</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>column</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>GROUP_CONCAT</span>(privilege_type) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>privileges</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.user_privileges
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>            grantee,
</span></span><span style=display:flex><span>            is_grantable
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>UNION</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>ALL</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            grantee <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>user</span>,
</span></span><span style=display:flex><span>            is_grantable <span style=color:#66d9ef>AS</span> is_grantable,
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>AS</span> db,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>table</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>column</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>GROUP_CONCAT</span>(privilege_type) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>privileges</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.schema_privileges
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>            grantee,
</span></span><span style=display:flex><span>            is_grantable,
</span></span><span style=display:flex><span>            table_schema
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>UNION</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>ALL</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            grantee <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>user</span>,
</span></span><span style=display:flex><span>            is_grantable <span style=color:#66d9ef>AS</span> is_grantable,
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>AS</span> db,
</span></span><span style=display:flex><span>            table_name <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>table</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>column</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>GROUP_CONCAT</span>(privilege_type) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>privileges</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.table_privileges
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>            grantee,
</span></span><span style=display:flex><span>            is_grantable,
</span></span><span style=display:flex><span>            table_schema,
</span></span><span style=display:flex><span>            table_name
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>UNION</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>ALL</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            grantee <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>user</span>,
</span></span><span style=display:flex><span>            is_grantable <span style=color:#66d9ef>AS</span> is_grantable,
</span></span><span style=display:flex><span>            table_schema <span style=color:#66d9ef>AS</span> db,
</span></span><span style=display:flex><span>            table_name <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>table</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>            column_name <span style=color:#66d9ef>AS</span> <span style=color:#f92672>`</span><span style=color:#66d9ef>column</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>GROUP_CONCAT</span>(privilege_type) <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>privileges</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            information_schema.column_privileges
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>            grantee,
</span></span><span style=display:flex><span>            is_grantable,
</span></span><span style=display:flex><span>            table_schema,
</span></span><span style=display:flex><span>            table_name,
</span></span><span style=display:flex><span>            column_name
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> authority
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>user</span>,
</span></span><span style=display:flex><span>    db,
</span></span><span style=display:flex><span>    <span style=color:#f92672>`</span><span style=color:#66d9ef>table</span><span style=color:#f92672>`</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>`</span><span style=color:#66d9ef>column</span><span style=color:#f92672>`</span>;
</span></span></code></pre></div><h2 id=日付時刻>日付・時刻
<a class=anchor href=#%e6%97%a5%e4%bb%98%e6%99%82%e5%88%bb>#</a></h2><p><a href=https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html>MySQL Reference Manual - Date and Time Functions</a></p><h3 id=日時フォーマット>日時フォーマット
<a class=anchor href=#%e6%97%a5%e6%99%82%e3%83%95%e3%82%a9%e3%83%bc%e3%83%9e%e3%83%83%e3%83%88>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATE_FORMAT</span>(<span style=color:#66d9ef>CURRENT_TIME</span>(), <span style=color:#e6db74>&#39;%Y-%m-%d %k:%i:%s&#39;</span>); <span style=color:#75715e>-- 2020-01-04 13:30:10
</span></span></span></code></pre></div><h3 id=現在時刻>現在時刻
<a class=anchor href=#%e7%8f%be%e5%9c%a8%e6%99%82%e5%88%bb>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>NOW</span>(); <span style=color:#75715e>-- 2020-01-05 13:30:10
</span></span></span></code></pre></div><h3 id=現在時刻の時刻のみ>現在時刻の時刻のみ
<a class=anchor href=#%e7%8f%be%e5%9c%a8%e6%99%82%e5%88%bb%e3%81%ae%e6%99%82%e5%88%bb%e3%81%ae%e3%81%bf>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>CURRENT_TIME</span>(); <span style=color:#75715e>-- 13:30:10
</span></span></span></code></pre></div><h3 id=今日>今日
<a class=anchor href=#%e4%bb%8a%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>CURRENT_DATE</span>(); <span style=color:#75715e>-- 2020-01-05
</span></span></span></code></pre></div><h3 id=昨日>昨日
<a class=anchor href=#%e6%98%a8%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>CURRENT_DATE</span>() <span style=color:#f92672>-</span> <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>1</span> DAY; <span style=color:#75715e>-- 2020-01-04
</span></span></span></code></pre></div><h3 id=明日>明日
<a class=anchor href=#%e6%98%8e%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>CURRENT_DATE</span>() <span style=color:#f92672>+</span> <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>1</span> DAY; <span style=color:#75715e>-- 2020-01-06
</span></span></span></code></pre></div><h3 id=1週間前>1週間前
<a class=anchor href=#1%e9%80%b1%e9%96%93%e5%89%8d>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>CURRENT_DATE</span>() <span style=color:#f92672>-</span> <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>7</span> DAY; <span style=color:#75715e>-- 2019-12-29
</span></span></span></code></pre></div><h3 id=1週間後>1週間後
<a class=anchor href=#1%e9%80%b1%e9%96%93%e5%be%8c>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>CURRENT_DATE</span>() <span style=color:#f92672>+</span> <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>7</span> DAY; <span style=color:#75715e>-- 2020-01-12
</span></span></span></code></pre></div><h3 id=当月1日>当月1日
<a class=anchor href=#%e5%bd%93%e6%9c%881%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATE_FORMAT</span>(<span style=color:#66d9ef>CURRENT_DATE</span>(), <span style=color:#e6db74>&#39;%Y-%m-01&#39;</span>); <span style=color:#75715e>-- 2020-01-01
</span></span></span></code></pre></div><h3 id=当月末日>当月末日
<a class=anchor href=#%e5%bd%93%e6%9c%88%e6%9c%ab%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>LAST_DAY</span>(<span style=color:#66d9ef>CURRENT_DATE</span>()); <span style=color:#75715e>-- 2020-01-31
</span></span></span></code></pre></div><h3 id=当月1日当月末日>当月1日〜当月末日
<a class=anchor href=#%e5%bd%93%e6%9c%881%e6%97%a5%e5%bd%93%e6%9c%88%e6%9c%ab%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    sample_column <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>DATE_FORMAT</span>(<span style=color:#66d9ef>CURRENT_DATE</span>(), <span style=color:#e6db74>&#39;%Y-%m-01&#39;</span>)
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>AND</span> sample_column <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>LAST_DAY</span>(<span style=color:#66d9ef>CURRENT_DATE</span>());
</span></span></code></pre></div><h3 id=先月1日>先月1日
<a class=anchor href=#%e5%85%88%e6%9c%881%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATE_FORMAT</span>(<span style=color:#a6e22e>DATE_SUB</span>(<span style=color:#66d9ef>CURRENT_DATE</span>(), <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>1</span> MONTH), <span style=color:#e6db74>&#39;%Y-%m-01&#39;</span>); <span style=color:#75715e>-- 2019-12-01
</span></span></span><span style=display:flex><span><span style=color:#75715e>-- or
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATE_FORMAT</span>(<span style=color:#a6e22e>DATE_ADD</span>(<span style=color:#66d9ef>CURRENT_DATE</span>(), <span style=color:#66d9ef>INTERVAL</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> MONTH), <span style=color:#e6db74>&#39;%Y-%m-01&#39;</span>); <span style=color:#75715e>-- 2019-12-01
</span></span></span></code></pre></div><h3 id=先月末日>先月末日
<a class=anchor href=#%e5%85%88%e6%9c%88%e6%9c%ab%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>LAST_DAY</span>(<span style=color:#a6e22e>DATE_SUB</span>(<span style=color:#66d9ef>CURRENT_DATE</span>(), <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>1</span> MONTH)); <span style=color:#75715e>-- 2019-12-31
</span></span></span><span style=display:flex><span><span style=color:#75715e>-- or
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>LAST_DAY</span>(<span style=color:#a6e22e>DATE_ADD</span>(<span style=color:#66d9ef>CURRENT_DATE</span>(), <span style=color:#66d9ef>INTERVAL</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> MONTH)); <span style=color:#75715e>-- 2019-12-31
</span></span></span></code></pre></div><h3 id=来月1日>来月1日
<a class=anchor href=#%e6%9d%a5%e6%9c%881%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATE_FORMAT</span>(<span style=color:#a6e22e>DATE_ADD</span>(<span style=color:#66d9ef>CURRENT_DATE</span>(), <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>1</span> MONTH), <span style=color:#e6db74>&#39;%Y-%m-01&#39;</span>); <span style=color:#75715e>-- 2020-02-01
</span></span></span></code></pre></div><h3 id=来月末日>来月末日
<a class=anchor href=#%e6%9d%a5%e6%9c%88%e6%9c%ab%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>LAST_DAY</span>(<span style=color:#a6e22e>DATE_ADD</span>(<span style=color:#66d9ef>CURRENT_DATE</span>(), <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>1</span> MONTH)); <span style=color:#75715e>-- 2020-02-29
</span></span></span></code></pre></div><h3 id=昨年>昨年
<a class=anchor href=#%e6%98%a8%e5%b9%b4>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATE_FORMAT</span>((<span style=color:#a6e22e>NOW</span>() <span style=color:#f92672>-</span> <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>1</span> <span style=color:#66d9ef>YEAR</span>), <span style=color:#e6db74>&#39;%Y-%m-%d&#39;</span>);
</span></span></code></pre></div><h3 id=来年>来年
<a class=anchor href=#%e6%9d%a5%e5%b9%b4>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATE_FORMAT</span>((<span style=color:#a6e22e>NOW</span>() <span style=color:#f92672>+</span> <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>1</span> <span style=color:#66d9ef>YEAR</span>), <span style=color:#e6db74>&#39;%Y-%m-%d&#39;</span>);
</span></span></code></pre></div><h3 id=3年前>3年前
<a class=anchor href=#3%e5%b9%b4%e5%89%8d>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATE_FORMAT</span>((<span style=color:#a6e22e>NOW</span>() <span style=color:#f92672>-</span> <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>3</span> <span style=color:#66d9ef>YEAR</span>), <span style=color:#e6db74>&#39;%Y-%m-%d&#39;</span>);
</span></span></code></pre></div><h3 id=3年後>3年後
<a class=anchor href=#3%e5%b9%b4%e5%be%8c>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATE_FORMAT</span>((<span style=color:#a6e22e>NOW</span>() <span style=color:#f92672>+</span> <span style=color:#66d9ef>INTERVAL</span> <span style=color:#ae81ff>3</span> <span style=color:#66d9ef>YEAR</span>), <span style=color:#e6db74>&#39;%Y-%m-%d&#39;</span>);
</span></span></code></pre></div><h3 id=日付の差分>日付の差分
<a class=anchor href=#%e6%97%a5%e4%bb%98%e3%81%ae%e5%b7%ae%e5%88%86>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATEDIFF</span>(<span style=color:#e6db74>&#39;2020-12-31 23:59:59&#39;</span>,<span style=color:#e6db74>&#39;2020-12-30&#39;</span>); <span style=color:#75715e>-- 1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DATEDIFF</span>(<span style=color:#e6db74>&#39;2020-11-30 23:59:59&#39;</span>,<span style=color:#e6db74>&#39;2020-12-31&#39;</span>); <span style=color:#75715e>-- -31
</span></span></span></code></pre></div><h3 id=年のみ>年のみ
<a class=anchor href=#%e5%b9%b4%e3%81%ae%e3%81%bf>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>YEAR</span>(<span style=color:#e6db74>&#39;2020-12-31&#39;</span>); <span style=color:#75715e>-- 2020
</span></span></span></code></pre></div><h3 id=月のみ>月のみ
<a class=anchor href=#%e6%9c%88%e3%81%ae%e3%81%bf>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>MONTH</span>(<span style=color:#e6db74>&#39;2020-12-31&#39;</span>); <span style=color:#75715e>-- 12
</span></span></span><span style=display:flex><span><span style=color:#75715e>-- or
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DAYOFMONTH</span>(<span style=color:#e6db74>&#39;2020-12-31&#39;</span>); <span style=color:#75715e>-- 12
</span></span></span></code></pre></div><h3 id=日のみ>日のみ
<a class=anchor href=#%e6%97%a5%e3%81%ae%e3%81%bf>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DAY</span>(<span style=color:#e6db74>&#39;2020-12-31&#39;</span>); <span style=color:#75715e>-- 31
</span></span></span><span style=display:flex><span><span style=color:#75715e>-- or
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DAYOFMONTH</span>(<span style=color:#e6db74>&#39;2020-12-31&#39;</span>); <span style=color:#75715e>-- 31
</span></span></span></code></pre></div><h3 id=曜日>曜日
<a class=anchor href=#%e6%9b%9c%e6%97%a5>#</a></h3><p>曜日インデックス (1 = Sunday、2 = Monday、…、7 = Saturday)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DAYOFWEEK</span>(<span style=color:#e6db74>&#39;2007-02-03&#39;</span>); <span style=color:#75715e>-- 7
</span></span></span></code></pre></div><p>曜日インデックス (0 = Monday、1 = Tuesday、…6 = Sunday)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>WEEKDAY</span>(<span style=color:#e6db74>&#39;2008-02-03 22:23:00&#39;</span>); <span style=color:#75715e>-- 6
</span></span></span></code></pre></div><h3 id=曜日日本語>曜日（日本語）
<a class=anchor href=#%e6%9b%9c%e6%97%a5%e6%97%a5%e6%9c%ac%e8%aa%9e>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>CASE</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>DATE_FORMAT</span>(<span style=color:#a6e22e>NOW</span>(), <span style=color:#e6db74>&#39;%w&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;日&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>1</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;月&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;火&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>3</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;水&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>4</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;木&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>5</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;金&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>6</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;土&#39;</span>
</span></span><span style=display:flex><span>    END;
</span></span></code></pre></div><h3 id=年内の歴週>年内の歴週
<a class=anchor href=#%e5%b9%b4%e5%86%85%e3%81%ae%e6%ad%b4%e9%80%b1>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>WEEKOFYEAR</span>(<span style=color:#e6db74>&#39;2008-02-20&#39;</span>); <span style=color:#75715e>-- 8
</span></span></span></code></pre></div><h3 id=年内の通日>年内の通日
<a class=anchor href=#%e5%b9%b4%e5%86%85%e3%81%ae%e9%80%9a%e6%97%a5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>DAYOFYEAR</span>(<span style=color:#e6db74>&#39;2007-02-03&#39;</span>); <span style=color:#75715e>-- 34
</span></span></span></code></pre></div><h2 id=便利関数>便利関数
<a class=anchor href=#%e4%be%bf%e5%88%a9%e9%96%a2%e6%95%b0>#</a></h2><h3 id=値がnullの場合の初期値を返却-ifnull>値がNULLの場合の初期値を返却 IFNULL
<a class=anchor href=#%e5%80%a4%e3%81%8cnull%e3%81%ae%e5%a0%b4%e5%90%88%e3%81%ae%e5%88%9d%e6%9c%9f%e5%80%a4%e3%82%92%e8%bf%94%e5%8d%b4-ifnull>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>IFNULL</span>(name, <span style=color:#e6db74>&#39;anonym&#39;</span>) <span style=color:#66d9ef>AS</span> name
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table;
</span></span></code></pre></div><h3 id=最初のnull以外の値を返却-coalesce>最初のNULL以外の値を返却 COALESCE
<a class=anchor href=#%e6%9c%80%e5%88%9d%e3%81%aenull%e4%bb%a5%e5%a4%96%e3%81%ae%e5%80%a4%e3%82%92%e8%bf%94%e5%8d%b4-coalesce>#</a></h3><p>NULL以外の値がない場合 NULLを返却</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>COALESCE</span>(
</span></span><span style=display:flex;background-color:#3c3d38><span>        phone_number_smart_private,
</span></span><span style=display:flex;background-color:#3c3d38><span>        phone_number_home,
</span></span><span style=display:flex;background-color:#3c3d38><span>        phone_number_office,
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#66d9ef>NULL</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    ) <span style=color:#66d9ef>AS</span> phone_number
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table;
</span></span></code></pre></div><h3 id=カンマ区切りで結合-group_concat>カンマ区切りで結合 GROUP_CONCAT
<a class=anchor href=#%e3%82%ab%e3%83%b3%e3%83%9e%e5%8c%ba%e5%88%87%e3%82%8a%e3%81%a7%e7%b5%90%e5%90%88-group_concat>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>GROUP_CONCAT</span>(id) <span style=color:#66d9ef>AS</span> id <span style=color:#75715e>-- &#39;1,2,3,4,5&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    id;
</span></span></code></pre></div><h3 id=カンマ区切りの値を検索-find_in_set>カンマ区切りの値を検索 FIND_IN_SET
<a class=anchor href=#%e3%82%ab%e3%83%b3%e3%83%9e%e5%8c%ba%e5%88%87%e3%82%8a%e3%81%ae%e5%80%a4%e3%82%92%e6%a4%9c%e7%b4%a2-find_in_set>#</a></h3><blockquote class="book-hint danger">INDEXが効かないため要注意</blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>FIND_IN_SET</span>(id, <span style=color:#e6db74>&#39;1,2,3,4&#39;</span>);
</span></span></code></pre></div><h3 id=指定した順番に並べ替え-field>指定した順番に並べ替え FIELD
<a class=anchor href=#%e6%8c%87%e5%ae%9a%e3%81%97%e3%81%9f%e9%a0%86%e7%95%aa%e3%81%ab%e4%b8%a6%e3%81%b9%e6%9b%bf%e3%81%88-field>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    id <span style=color:#66d9ef>IN</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>FIELD</span>(id, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>);
</span></span></code></pre></div><h2 id=条件分岐-case>条件分岐 CASE
<a class=anchor href=#%e6%9d%a1%e4%bb%b6%e5%88%86%e5%b2%90-case>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>  <span style=color:#66d9ef>CASE</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>WHEN</span> active_flag <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;ON&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>WHEN</span> active_flag <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;OFF&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>ELSE</span> <span style=color:#e6db74>&#39;&#39;</span> END
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>  sample_table;
</span></span></code></pre></div><hr><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    id,
</span></span><span style=display:flex><span>    name,
</span></span><span style=display:flex><span>    score,
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>CASE</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#66d9ef>WHEN</span> score <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>80</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;Excellent&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>80</span> <span style=color:#f92672>&gt;</span> score <span style=color:#66d9ef>AND</span> score <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>70</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;Good&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>70</span> <span style=color:#f92672>&gt;</span> score <span style=color:#66d9ef>AND</span> score <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>60</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;Average&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>&gt;</span> score <span style=color:#66d9ef>AND</span> score <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>50</span> <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;Below Average&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#66d9ef>WHEN</span> <span style=color:#ae81ff>50</span> <span style=color:#f92672>&gt;</span> score <span style=color:#66d9ef>THEN</span> <span style=color:#e6db74>&#39;Poor&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#66d9ef>ELSE</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    END <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;evaluation&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    scores;
</span></span></code></pre></div><h2 id=便利sql>便利SQL
<a class=anchor href=#%e4%be%bf%e5%88%a9sql>#</a></h2><h3 id=select句の値を変数にセット>SELECT句の値を変数にセット
<a class=anchor href=#select%e5%8f%a5%e3%81%ae%e5%80%a4%e3%82%92%e5%a4%89%e6%95%b0%e3%81%ab%e3%82%bb%e3%83%83%e3%83%88>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>100</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;sample&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>INTO</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#f92672>@</span>HOGE,
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#f92672>@</span>FOO;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>@</span>HOGE, <span style=color:#f92672>@</span>FOO;
</span></span><span style=display:flex><span><span style=color:#f92672>+-------+--------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> <span style=color:#f92672>@</span>HOGE <span style=color:#f92672>|</span> <span style=color:#f92672>@</span>FOO   <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+-------+--------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span>   <span style=color:#ae81ff>100</span> <span style=color:#f92672>|</span> sample <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+-------+--------+</span>
</span></span></code></pre></div><h3 id=selectinsert-select-したデータを-insert>SELECT/INSERT (SELECT したデータを INSERT)
<a class=anchor href=#selectinsert-select-%e3%81%97%e3%81%9f%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92-insert>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sample_table_1</span> (sample_column_1, sample_column_2, sample_column_3)
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    sample_column_1,
</span></span><span style=display:flex><span>    sample_column_2,
</span></span><span style=display:flex><span>    sample_column_3
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table_2;
</span></span></code></pre></div><p>一部の値を固定値で登録（以下の例では sample_column_3 に 固定値 &lsquo;hoge&rsquo; を登録</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sample_table_1</span> (sample_column_1, sample_column_2, sample_column_3)
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    sample_column_1,
</span></span><span style=display:flex><span>    sample_column_2,
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#e6db74>&#39;hoge&#39;</span> <span style=color:#66d9ef>AS</span> sample_column_3
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table_2;
</span></span></code></pre></div><h3 id=selectupdate-select-したデータを-update>SELECT/UPDATE (SELECT したデータを UPDATE)
<a class=anchor href=#selectupdate-select-%e3%81%97%e3%81%9f%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92-update>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span>
</span></span><span style=display:flex><span>    sample_table_2 dest,
</span></span><span style=display:flex><span>    (
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>            first_name,
</span></span><span style=display:flex><span>            last_name,
</span></span><span style=display:flex><span>            birthday,
</span></span><span style=display:flex><span>            email
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>            sample_table_1
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>            updated_at <span style=color:#f92672>&gt;</span> <span style=color:#e6db74>&#39;2021-01-01 00:00:00&#39;</span>
</span></span><span style=display:flex><span>    ) src
</span></span><span style=display:flex><span><span style=color:#66d9ef>SET</span>
</span></span><span style=display:flex><span>    dest.fullname <span style=color:#f92672>=</span> <span style=color:#a6e22e>CONCAT</span>(src.first_name, <span style=color:#e6db74>&#39; &#39;</span>, src.last_name),
</span></span><span style=display:flex><span>    dest.birthday <span style=color:#f92672>=</span> src.birthday,
</span></span><span style=display:flex><span>    dest.email <span style=color:#f92672>=</span> src.email
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    dest.email <span style=color:#f92672>=</span> src.email
</span></span><span style=display:flex><span>;
</span></span></code></pre></div><h3 id=特定のカラムの値が重複しているレコードを抽出-havinggroup-by>特定のカラムの値が重複しているレコードを抽出 HAVING/GROUP BY
<a class=anchor href=#%e7%89%b9%e5%ae%9a%e3%81%ae%e3%82%ab%e3%83%a9%e3%83%a0%e3%81%ae%e5%80%a4%e3%81%8c%e9%87%8d%e8%a4%87%e3%81%97%e3%81%a6%e3%81%84%e3%82%8b%e3%83%ac%e3%82%b3%e3%83%bc%e3%83%89%e3%82%92%e6%8a%bd%e5%87%ba-havinggroup-by>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    sample_column,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>COUNT</span>(<span style=color:#f92672>*</span>) <span style=color:#66d9ef>AS</span> count
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    sample_column
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>HAVING</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    count <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    sample_column;
</span></span></code></pre></div><h2 id=置換>置換
<a class=anchor href=#%e7%bd%ae%e6%8f%9b>#</a></h2><h3 id=文字列を置換して更新>文字列を置換して更新
<a class=anchor href=#%e6%96%87%e5%ad%97%e5%88%97%e3%82%92%e7%bd%ae%e6%8f%9b%e3%81%97%e3%81%a6%e6%9b%b4%e6%96%b0>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span>
</span></span><span style=display:flex><span>    sample_table
</span></span><span style=display:flex><span><span style=color:#66d9ef>SET</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    sample_column <span style=color:#f92672>=</span> <span style=color:#66d9ef>REPLACE</span>(sample_column, <span style=color:#e6db74>&#39;Search String&#39;</span>, <span style=color:#e6db74>&#39;Replacement String&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    sample_column <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;%Search String%&#39;</span>;
</span></span></code></pre></div><h2 id=改行コード>改行コード
<a class=anchor href=#%e6%94%b9%e8%a1%8c%e3%82%b3%e3%83%bc%e3%83%89>#</a></h2><h3 id=carriage-return-cr>Carriage Return (CR)
<a class=anchor href=#carriage-return-cr>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span>r
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>13</span>)
</span></span></code></pre></div><h3 id=line-feed-lf>Line Feed (LF)
<a class=anchor href=#line-feed-lf>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span>n
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>10</span>)
</span></span></code></pre></div><h3 id=改行コードを半角スペースに置換>改行コードを半角スペースに置換
<a class=anchor href=#%e6%94%b9%e8%a1%8c%e3%82%b3%e3%83%bc%e3%83%89%e3%82%92%e5%8d%8a%e8%a7%92%e3%82%b9%e3%83%9a%e3%83%bc%e3%82%b9%e3%81%ab%e7%bd%ae%e6%8f%9b>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>REPLACE</span>(<span style=color:#66d9ef>REPLACE</span>(<span style=color:#66d9ef>REPLACE</span>(sample_column, <span style=color:#e6db74>&#39;\r\n&#39;</span>, <span style=color:#e6db74>&#39; &#39;</span>), <span style=color:#e6db74>&#39;\r&#39;</span>, <span style=color:#e6db74>&#39; &#39;</span>), <span style=color:#e6db74>&#39;\n&#39;</span>, <span style=color:#e6db74>&#39; &#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>REPLACE</span>(<span style=color:#66d9ef>REPLACE</span>(<span style=color:#66d9ef>REPLACE</span>(sample_column, <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>13</span>) <span style=color:#f92672>+</span> <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>10</span>), <span style=color:#e6db74>&#39; &#39;</span>), <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>13</span>), <span style=color:#e6db74>&#39; &#39;</span>), <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>10</span>), <span style=color:#e6db74>&#39; &#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    sample_table;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span>
</span></span><span style=display:flex><span>    sample_table
</span></span><span style=display:flex><span><span style=color:#66d9ef>SET</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    sample_column <span style=color:#f92672>=</span> <span style=color:#66d9ef>REPLACE</span>(<span style=color:#66d9ef>REPLACE</span>(<span style=color:#66d9ef>REPLACE</span>(sample_column, <span style=color:#e6db74>&#39;\r\n&#39;</span>, <span style=color:#e6db74>&#39; &#39;</span>), <span style=color:#e6db74>&#39;\r&#39;</span>, <span style=color:#e6db74>&#39; &#39;</span>), <span style=color:#e6db74>&#39;\n&#39;</span>,<span style=color:#e6db74>&#39; &#39;</span>);
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span>
</span></span><span style=display:flex><span>    sample_table
</span></span><span style=display:flex><span><span style=color:#66d9ef>SET</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>REPLACE</span>(<span style=color:#66d9ef>REPLACE</span>(<span style=color:#66d9ef>REPLACE</span>(sample_column, <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>13</span>) <span style=color:#f92672>+</span> <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>10</span>), <span style=color:#e6db74>&#39; &#39;</span>), <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>13</span>), <span style=color:#e6db74>&#39; &#39;</span>), <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>10</span>), <span style=color:#e6db74>&#39; &#39;</span>);
</span></span></code></pre></div><h2 id=view>VIEW
<a class=anchor href=#view>#</a></h2><h3 id=view-の概要>VIEW の概要
<a class=anchor href=#view-%e3%81%ae%e6%a6%82%e8%a6%81>#</a></h3><ul><li>VIEW（ビュー）とはテーブルから取得したいデータの条件を定義し、あたかも独立したテーブルのように扱うためのもの。</li><li>VIEWそのものはデータを持たず、元になったテーブルからデータを参照。</li><li>VIEWだけ閲覧できるよう権限を設定することも可能。</li><li>参照: <a href=https://www.dbonline.jp/mysql/view/>ビューの作成</a></li></ul><h3 id=viewの作成>VIEWの作成
<a class=anchor href=#view%e3%81%ae%e4%bd%9c%e6%88%90>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> VIEW view_name <span style=color:#66d9ef>AS</span> select_statement
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> VIEW <span style=color:#a6e22e>view_name</span> (sample_column_1, sample_column_2) <span style=color:#66d9ef>AS</span> select_statement
</span></span></code></pre></div><p>e.g.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> VIEW sales_report <span style=color:#66d9ef>AS</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DATE_FORMAT</span>(receipt_date, <span style=color:#e6db74>&#39;%Y%m&#39;</span>) <span style=color:#66d9ef>AS</span> month,
</span></span><span style=display:flex><span>    id <span style=color:#66d9ef>AS</span> product_id,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SUM</span>(amount) <span style=color:#66d9ef>AS</span> total_number,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SUM</span>(amount <span style=color:#f92672>*</span> price) <span style=color:#66d9ef>AS</span> total_amount
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    orders
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    month, product_id;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> sales_report;
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> VIEW <span style=color:#a6e22e>sales_report</span> (month, product_id, total_number, total_amount) <span style=color:#66d9ef>AS</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DATE_FORMAT</span>(receipt_date, <span style=color:#e6db74>&#39;%Y%m&#39;</span>) <span style=color:#66d9ef>AS</span> sales_month,
</span></span><span style=display:flex><span>    id,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SUM</span>(amount),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>SUM</span>(amount <span style=color:#f92672>*</span> price)
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    orders
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    sales_month, id;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> sales_report;
</span></span></code></pre></div><h3 id=view-の変更>VIEW の変更
<a class=anchor href=#view-%e3%81%ae%e5%a4%89%e6%9b%b4>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>OR</span> <span style=color:#66d9ef>REPLACE</span> VIEW sample_view <span style=color:#66d9ef>AS</span> select_statement;
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> VIEW view_name <span style=color:#66d9ef>AS</span> select_statement
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> VIEW <span style=color:#a6e22e>view_name</span> (sample_column_1, sample_column_2) <span style=color:#66d9ef>AS</span> select_statement
</span></span></code></pre></div><h3 id=viewのcreate文の確認>VIEWのCREATE文の確認
<a class=anchor href=#view%e3%81%aecreate%e6%96%87%e3%81%ae%e7%a2%ba%e8%aa%8d>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>CREATE</span> VIEW sample_view;
</span></span></code></pre></div><h3 id=view-を削除>VIEW を削除
<a class=anchor href=#view-%e3%82%92%e5%89%8a%e9%99%a4>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>DROP</span> VIEW sample_view;
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>DROP</span> VIEW <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>EXISTS</span> sample_view;
</span></span></code></pre></div><p>削除前後の確認</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>TABLES</span>;
</span></span></code></pre></div><h3 id=viewの一括drop文>VIEWの一括DROP文
<a class=anchor href=#view%e3%81%ae%e4%b8%80%e6%8b%acdrop%e6%96%87>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>CONCAT</span>(<span style=color:#e6db74>&#39;DROP VIEW &#39;</span>, table_name, <span style=color:#e6db74>&#39;;&#39;</span>) <span style=color:#66d9ef>AS</span> view_drop_sql
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;mysql&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;perfomance_schema&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;information_schema&#39;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>AND</span> table_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;VIEW&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><h3 id=viewの一覧を作成するcreate文の一覧>VIEWの一覧を作成するCREATE文の一覧
<a class=anchor href=#view%e3%81%ae%e4%b8%80%e8%a6%a7%e3%82%92%e4%bd%9c%e6%88%90%e3%81%99%e3%82%8bcreate%e6%96%87%e3%81%ae%e4%b8%80%e8%a6%a7>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>CONCAT</span>(TABLE_SCHEMA, <span style=color:#e6db74>&#39;.&#39;</span>, TABLE_NAME) <span style=color:#66d9ef>AS</span> target_view,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>CONCAT</span>(
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;CREATE ALGORITHM=UNDEFINED DEFINER=`&#39;</span>,
</span></span><span style=display:flex><span>        DEFINER,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;` SQL SECURITY &#39;</span>,
</span></span><span style=display:flex><span>        SECURITY_TYPE,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39; VIEW `&#39;</span>,
</span></span><span style=display:flex><span>        TABLE_NAME,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;` AS &#39;</span>,
</span></span><span style=display:flex><span>        VIEW_DEFINITION,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;;&#39;</span>
</span></span><span style=display:flex><span>    ) <span style=color:#66d9ef>AS</span> create_view
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.views;
</span></span></code></pre></div><h2 id=その他>その他
<a class=anchor href=#%e3%81%9d%e3%81%ae%e4%bb%96>#</a></h2><h3 id=sqlの実行計画>SQLの実行計画
<a class=anchor href=#sql%e3%81%ae%e5%ae%9f%e8%a1%8c%e8%a8%88%e7%94%bb>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>EXPLAIN</span> <span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> sample_table <span style=color:#66d9ef>WHERE</span> sample_flag <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span></code></pre></div><h3 id=一時的なテーブルの作成>一時的なテーブルの作成
<a class=anchor href=#%e4%b8%80%e6%99%82%e7%9a%84%e3%81%aa%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%ae%e4%bd%9c%e6%88%90>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> TEMPORARY <span style=color:#66d9ef>TABLE</span> new_table <span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> original_table
</span></span></code></pre></div><h3 id=データベースへのコネクション数>データベースへのコネクション数
<a class=anchor href=#%e3%83%87%e3%83%bc%e3%82%bf%e3%83%99%e3%83%bc%e3%82%b9%e3%81%b8%e3%81%ae%e3%82%b3%e3%83%8d%e3%82%af%e3%82%b7%e3%83%a7%e3%83%b3%e6%95%b0>#</a></h3><blockquote class="book-hint info">threads へのアクセスには相互排他ロックは必要なく、サーバーパフォーマンスへの影響は最小です。INFORMATION_SCHEMA.PROCESSLIST と SHOW PROCESSLIST では相互排他ロックが必要になるため、パフォーマンスの低下につながります。
<a href=https://dev.mysql.com/doc/refman/5.6/ja/performance-schema-threads-table.html>https://dev.mysql.com/doc/refman/5.6/ja/performance-schema-threads-table.html</a></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    processlist_host,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>COUNT</span>(<span style=color:#f92672>*</span>) <span style=color:#66d9ef>AS</span> connection_count
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    performance_schema.threads
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>
</span></span><span style=display:flex><span>    TYPE <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;FOREGROUND&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    processlist_host
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    processlist_host;
</span></span></code></pre></div><h3 id=プロセスを終了kill>プロセスを終了(KILL)
<a class=anchor href=#%e3%83%97%e3%83%ad%e3%82%bb%e3%82%b9%e3%82%92%e7%b5%82%e4%ba%86kill>#</a></h3><p>プロセスIDを確認</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> PROCESSLIST;
</span></span><span style=display:flex><span><span style=color:#f92672>+----+-------------+----------------+-----------+---------+------+----------+------------------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> Id <span style=color:#f92672>|</span> <span style=color:#66d9ef>User</span>        <span style=color:#f92672>|</span> Host           <span style=color:#f92672>|</span> db        <span style=color:#f92672>|</span> Command <span style=color:#f92672>|</span> <span style=color:#66d9ef>Time</span> <span style=color:#f92672>|</span> State    <span style=color:#f92672>|</span> Info             <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+----+-------------+----------------+-----------+---------+------+----------+------------------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span>  <span style=color:#ae81ff>8</span> <span style=color:#f92672>|</span> sample_user <span style=color:#f92672>|</span> localhost:XXXX <span style=color:#f92672>|</span> sample_db <span style=color:#f92672>|</span> Sleep   <span style=color:#f92672>|</span>   <span style=color:#ae81ff>40</span> <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span> <span style=color:#66d9ef>NULL</span>             <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>|</span> sample_user <span style=color:#f92672>|</span> localhost:XXXX <span style=color:#f92672>|</span> sample_db <span style=color:#f92672>|</span> Query   <span style=color:#f92672>|</span>    <span style=color:#ae81ff>0</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>starting</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>SHOW</span> PROCESSLIST <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+----+-------------+----------------+-----------+---------+------+----------+------------------+</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> row <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>set</span> (<span style=color:#ae81ff>0</span>.<span style=color:#ae81ff>01</span> sec)
</span></span></code></pre></div><p>MySQL の<code>KILL</code>コマンドでは1つのプロセスIDのみ指定可(複数IDの同時指定は不可)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>KILL</span> <span style=color:#ae81ff>8</span>
</span></span></code></pre></div><h3 id=特定の時間を経過しているプロセスを確認>特定の時間を経過しているプロセスを確認
<a class=anchor href=#%e7%89%b9%e5%ae%9a%e3%81%ae%e6%99%82%e9%96%93%e3%82%92%e7%b5%8c%e9%81%8e%e3%81%97%e3%81%a6%e3%81%84%e3%82%8b%e3%83%97%e3%83%ad%e3%82%bb%e3%82%b9%e3%82%92%e7%a2%ba%e8%aa%8d>#</a></h3><p>60秒以上経過しているプロセス(処理)を確認</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> information_schema.processlist <span style=color:#66d9ef>WHERE</span> <span style=color:#66d9ef>time</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>59</span>;
</span></span></code></pre></div><h3 id=複数のプロセスを終了kill>複数のプロセスを終了(KILL)
<a class=anchor href=#%e8%a4%87%e6%95%b0%e3%81%ae%e3%83%97%e3%83%ad%e3%82%bb%e3%82%b9%e3%82%92%e7%b5%82%e4%ba%86kill>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>GROUP_CONCAT</span>(id) <span style=color:#66d9ef>AS</span> id_list <span style=color:#66d9ef>FROM</span> information_schema.processlist <span style=color:#66d9ef>WHERE</span> <span style=color:#66d9ef>time</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>59</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>-- 10,11,12
</span></span></span></code></pre></div><p>mysqladmin コマンドの引数で <code>kill</code> (終了) を実行する場合は複数IDの同時指定可(カンマ区切り)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mysqladminn kill 10,11,12 -h localhost -u sample_user
</span></span></code></pre></div><h3 id=テーブルのロック状態>テーブルのロック状態
<a class=anchor href=#%e3%83%86%e3%83%bc%e3%83%96%e3%83%ab%e3%81%ae%e3%83%ad%e3%83%83%e3%82%af%e7%8a%b6%e6%85%8b>#</a></h3><p>ストレージエンジンがInnoDBの場合</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> information_schema.innodb_locks;
</span></span></code></pre></div><h3 id=トランザクション>トランザクション
<a class=anchor href=#%e3%83%88%e3%83%a9%e3%83%b3%e3%82%b6%e3%82%af%e3%82%b7%e3%83%a7%e3%83%b3>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>BEGIN;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span> sample_table <span style=color:#66d9ef>SET</span> email <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;sample1@email.com&#39;</span> <span style=color:#66d9ef>WHERE</span> id <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span> sample_table <span style=color:#66d9ef>SET</span> email <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;sample1@email.com&#39;</span> <span style=color:#66d9ef>WHERE</span> id <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- 失敗した場合は ROLLBACK;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>COMMIT;
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>START TRANSACTION;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span> sample_table <span style=color:#66d9ef>SET</span> email <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;sample1@email.com&#39;</span> <span style=color:#66d9ef>WHERE</span> id <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span> sample_table <span style=color:#66d9ef>SET</span> email <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;sample1@email.com&#39;</span> <span style=color:#66d9ef>WHERE</span> id <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- 失敗した場合は ROLLBACK;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>COMMIT;
</span></span></code></pre></div><h2 id=auto_increment自動採番>AUTO_INCREMENT（自動採番）
<a class=anchor href=#auto_increment%e8%87%aa%e5%8b%95%e6%8e%a1%e7%95%aa>#</a></h2><h3 id=auto_increment自動採番の値を確認>AUTO_INCREMENT（自動採番）の値を確認
<a class=anchor href=#auto_increment%e8%87%aa%e5%8b%95%e6%8e%a1%e7%95%aa%e3%81%ae%e5%80%a4%e3%82%92%e7%a2%ba%e8%aa%8d>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>
</span></span><span style=display:flex><span>    table_schema <span style=color:#66d9ef>as</span> database_name,
</span></span><span style=display:flex><span>    table_name,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto_increment</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>
</span></span><span style=display:flex><span>    information_schema.<span style=color:#66d9ef>tables</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span>
</span></span><span style=display:flex><span>    table_schema,
</span></span><span style=display:flex><span>    table_name;
</span></span></code></pre></div><hr><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>TABLE</span> STATUS <span style=color:#66d9ef>WHERE</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;sample_table&#39;</span>;
</span></span></code></pre></div><hr><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>TABLE</span> STATUS <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;sample_table_prefix%&#39;</span>;
</span></span></code></pre></div><h3 id=auto_increment自動採番の値を変更>AUTO_INCREMENT（自動採番）の値を変更
<a class=anchor href=#auto_increment%e8%87%aa%e5%8b%95%e6%8e%a1%e7%95%aa%e3%81%ae%e5%80%a4%e3%82%92%e5%a4%89%e6%9b%b4>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> sample_table <span style=color:#66d9ef>AUTO_INCREMENT</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000</span>;
</span></span></code></pre></div><h2 id=設定>設定
<a class=anchor href=#%e8%a8%ad%e5%ae%9a>#</a></h2><h3 id=トランザクションのタイムアウト>トランザクションのタイムアウト
<a class=anchor href=#%e3%83%88%e3%83%a9%e3%83%b3%e3%82%b6%e3%82%af%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ae%e3%82%bf%e3%82%a4%e3%83%a0%e3%82%a2%e3%82%a6%e3%83%88>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> GLOBAL VARIABLES <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;%lock_wait_time_out&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+----------------------+--------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> Variable_name        <span style=color:#f92672>|</span> Value  <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+----------------------+--------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> lock_wait_timeout_ms <span style=color:#f92672>|</span> <span style=color:#ae81ff>300000</span> <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+----------------------+--------+</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> row <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>set</span> (<span style=color:#ae81ff>0</span>.<span style=color:#ae81ff>01</span> sec)
</span></span></code></pre></div><h2 id=暗号化>暗号化
<a class=anchor href=#%e6%9a%97%e5%8f%b7%e5%8c%96>#</a></h2><p><a href=https://dev.mysql.com/doc/refman/8.0/en/encryption-functions.html>MySQL Reference Manual - Encryption and Compression Functions</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SET</span> block_encryption_mode <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;aes-256-cbc&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>SET</span> <span style=color:#f92672>@</span>key_str <span style=color:#f92672>=</span> <span style=color:#a6e22e>SHA2</span>(<span style=color:#e6db74>&#39;My secret passphrase&#39;</span>,<span style=color:#ae81ff>512</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>SET</span> <span style=color:#f92672>@</span>init_vector <span style=color:#f92672>=</span> <span style=color:#a6e22e>RANDOM_BYTES</span>(<span style=color:#ae81ff>16</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>SET</span> <span style=color:#f92672>@</span>crypt_str <span style=color:#f92672>=</span> <span style=color:#a6e22e>AES_ENCRYPT</span>(<span style=color:#e6db74>&#39;text&#39;</span>,<span style=color:#f92672>@</span>key_str,<span style=color:#f92672>@</span>init_vector);
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>AES_DECRYPT</span>(<span style=color:#f92672>@</span>crypt_str,<span style=color:#f92672>@</span>key_str,<span style=color:#f92672>@</span>init_vector);
</span></span><span style=display:flex><span><span style=color:#f92672>+-----------------------------------------------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> <span style=color:#a6e22e>AES_DECRYPT</span>(<span style=color:#f92672>@</span>crypt_str,<span style=color:#f92672>@</span>key_str,<span style=color:#f92672>@</span>init_vector) <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+-----------------------------------------------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> <span style=color:#66d9ef>text</span>                                          <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+-----------------------------------------------+</span>
</span></span></code></pre></div><h1 id=references>References
<a class=anchor href=#references>#</a></h1><ul><li><a href=https://qiita.com/devopsCoordinator/items/9b70e506150888e190be>https://qiita.com/devopsCoordinator/items/9b70e506150888e190be</a></li><li><a href=https://qiita.com/CyberMergina/items/f889519e6be19c46f5f4>https://qiita.com/CyberMergina/items/f889519e6be19c46f5f4</a></li><li><a href=https://qiita.com/Tocyuki/items/cb613c51a0e9c6e4f23c>https://qiita.com/Tocyuki/items/cb613c51a0e9c6e4f23c</a></li><li><a href=https://qiita.com/marnie_ms4/items/576055abc355184c51a1>https://qiita.com/marnie_ms4/items/576055abc355184c51a1</a></li><li><a href=https://qiita.com/fururun02/items/148a1eee68a1fb978f06>https://qiita.com/fururun02/items/148a1eee68a1fb978f06</a></li><li><a href=https://qiita.com/dodonki1223/items/776a3520e45626773c60>https://qiita.com/dodonki1223/items/776a3520e45626773c60</a></li><li><a href=https://dev.mysql.com/doc/refman/8.0/ja/select.html>https://dev.mysql.com/doc/refman/8.0/ja/select.html</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><h2>Tags</h2><ul class=tags><li><a href=/tags/mysql>MySQL</a><li><a href=/tags/sql>SQL</a></ul><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#preparation>Preparation</a><ul><li><a href=#install-to-macos>Install to macOS</a></li><li><a href=#start>Start</a></li><li><a href=#check-the-vertion>Check the vertion</a></li><li><a href=#make-initial-settings>Make initial settings</a></li></ul></li><li><a href=#設定ファイル>設定ファイル</a></li><li><a href=#ログイン>ログイン</a></li><li><a href=#バージョン>バージョン</a></li><li><a href=#タイムゾーン>タイムゾーン</a></li><li><a href=#文字コードと照合順序>文字コードと照合順序</a><ul><li><a href=#サーバ全体>サーバ全体</a></li><li><a href=#db単位>DB単位</a></li><li><a href=#カラム単位>カラム単位</a></li><li><a href=#照合順序が異なるカラムで結合>照合順序が異なるカラムで結合</a></li><li><a href=#文字コード-utf8mb4-のデフォルトの照合順序のmysqlバージョンごとの違い>文字コード <code>utf8mb4</code> のデフォルトの照合順序のMySQLバージョンごとの違い</a></li></ul></li><li><a href=#データベーステーブルカラムの一覧>データベース/テーブル/カラムの一覧</a><ul><li><a href=#データベースの一覧>データベースの一覧</a></li><li><a href=#テーブルの一覧>テーブルの一覧</a></li><li><a href=#テーブルごとの自動採番-auto_increment-の一覧>テーブルごとの自動採番 AUTO_INCREMENT の一覧</a></li><li><a href=#テーブルごとのカラムの一覧カンマ区切り>テーブルごとのカラムの一覧（カンマ区切り）</a></li><li><a href=#テーブルの物理名と論理名テーブルコメントの一覧>テーブルの物理名と論理名（テーブル・コメント）の一覧</a></li><li><a href=#カラムの物理名と論理名カラムコメントの一覧>カラムの物理名と論理名（カラム・コメント）の一覧</a></li><li><a href=#特定のカラムを含むテーブルの一覧>特定のカラムを含むテーブルの一覧</a></li><li><a href=#インデックスの一覧>インデックスの一覧</a></li><li><a href=#ビューの一覧>ビューの一覧</a></li></ul></li><li><a href=#テーブルのキー情報の一覧>テーブルのキー情報の一覧</a><ul><li><a href=#テーブルごとのプライマリーキー制約の一覧>テーブルごとのプライマリーキー制約の一覧</a></li><li><a href=#テーブルごとのユニークキー制約の一覧>テーブルごとのユニークキー制約の一覧</a></li><li><a href=#テーブルごとの外部キー制約の一覧>テーブルごとの外部キー制約の一覧</a></li><li><a href=#テーブルごとのプライマリーキーユニークキー外部キー一覧>テーブルごとのプライマリーキー・ユニークキー・外部キー一覧</a></li></ul></li><li><a href=#データ容量の一覧>データ容量の一覧</a><ul><li><a href=#データベースごとのサイズの一覧>データベースごとのサイズの一覧</a></li><li><a href=#データベースごとのテーブル数の一覧>データベースごとのテーブル数の一覧</a></li><li><a href=#テーブルごとのサイズの一覧>テーブルごとのサイズの一覧</a></li><li><a href=#テーブルごとのレコード数の一覧>テーブルごとのレコード数の一覧</a></li><li><a href=#データベーステーブルごとの件数容量カラムキー情報文字コードauto_incrementの一覧>データベース/テーブルごとの件数/容量/カラム/キー情報/文字コード/AUTO_INCREMENTの一覧</a></li></ul></li><li><a href=#データベース>データベース</a><ul><li><a href=#データベースの新規作成>データベースの新規作成</a></li><li><a href=#データベースの文字コードの変更>データベースの文字コードの変更</a></li></ul></li><li><a href=#ユーザー>ユーザー</a><ul><li><a href=#ユーザーの新規作成>ユーザーの新規作成</a></li><li><a href=#ユーザーのパスワードの設定>ユーザーのパスワードの設定</a></li><li><a href=#ユーザーの権限の設定>ユーザーの権限の設定</a></li></ul></li><li><a href=#権限>権限</a><ul><li><a href=#ユーザーごとの権限の一覧>ユーザーごとの権限の一覧</a></li><li><a href=#データベースごとの権限の一覧>データベースごとの権限の一覧</a></li><li><a href=#テーブルごとの権限の一覧>テーブルごとの権限の一覧</a></li><li><a href=#カラムごとの権限の一覧>カラムごとの権限の一覧</a></li><li><a href=#ユーザーごとデータベースごとテーブルごとカラムごとの権限の一覧>ユーザーごと・データベースごと・テーブルごと・カラムごとの権限の一覧</a></li></ul></li><li><a href=#日付時刻>日付・時刻</a><ul><li><a href=#日時フォーマット>日時フォーマット</a></li><li><a href=#現在時刻>現在時刻</a></li><li><a href=#現在時刻の時刻のみ>現在時刻の時刻のみ</a></li><li><a href=#今日>今日</a></li><li><a href=#昨日>昨日</a></li><li><a href=#明日>明日</a></li><li><a href=#1週間前>1週間前</a></li><li><a href=#1週間後>1週間後</a></li><li><a href=#当月1日>当月1日</a></li><li><a href=#当月末日>当月末日</a></li><li><a href=#当月1日当月末日>当月1日〜当月末日</a></li><li><a href=#先月1日>先月1日</a></li><li><a href=#先月末日>先月末日</a></li><li><a href=#来月1日>来月1日</a></li><li><a href=#来月末日>来月末日</a></li><li><a href=#昨年>昨年</a></li><li><a href=#来年>来年</a></li><li><a href=#3年前>3年前</a></li><li><a href=#3年後>3年後</a></li><li><a href=#日付の差分>日付の差分</a></li><li><a href=#年のみ>年のみ</a></li><li><a href=#月のみ>月のみ</a></li><li><a href=#日のみ>日のみ</a></li><li><a href=#曜日>曜日</a></li><li><a href=#曜日日本語>曜日（日本語）</a></li><li><a href=#年内の歴週>年内の歴週</a></li><li><a href=#年内の通日>年内の通日</a></li></ul></li><li><a href=#便利関数>便利関数</a><ul><li><a href=#値がnullの場合の初期値を返却-ifnull>値がNULLの場合の初期値を返却 IFNULL</a></li><li><a href=#最初のnull以外の値を返却-coalesce>最初のNULL以外の値を返却 COALESCE</a></li><li><a href=#カンマ区切りで結合-group_concat>カンマ区切りで結合 GROUP_CONCAT</a></li><li><a href=#カンマ区切りの値を検索-find_in_set>カンマ区切りの値を検索 FIND_IN_SET</a></li><li><a href=#指定した順番に並べ替え-field>指定した順番に並べ替え FIELD</a></li></ul></li><li><a href=#条件分岐-case>条件分岐 CASE</a></li><li><a href=#便利sql>便利SQL</a><ul><li><a href=#select句の値を変数にセット>SELECT句の値を変数にセット</a></li><li><a href=#selectinsert-select-したデータを-insert>SELECT/INSERT (SELECT したデータを INSERT)</a></li><li><a href=#selectupdate-select-したデータを-update>SELECT/UPDATE (SELECT したデータを UPDATE)</a></li><li><a href=#特定のカラムの値が重複しているレコードを抽出-havinggroup-by>特定のカラムの値が重複しているレコードを抽出 HAVING/GROUP BY</a></li></ul></li><li><a href=#置換>置換</a><ul><li><a href=#文字列を置換して更新>文字列を置換して更新</a></li></ul></li><li><a href=#改行コード>改行コード</a><ul><li><a href=#carriage-return-cr>Carriage Return (CR)</a></li><li><a href=#line-feed-lf>Line Feed (LF)</a></li><li><a href=#改行コードを半角スペースに置換>改行コードを半角スペースに置換</a></li></ul></li><li><a href=#view>VIEW</a><ul><li><a href=#view-の概要>VIEW の概要</a></li><li><a href=#viewの作成>VIEWの作成</a></li><li><a href=#view-の変更>VIEW の変更</a></li><li><a href=#viewのcreate文の確認>VIEWのCREATE文の確認</a></li><li><a href=#view-を削除>VIEW を削除</a></li><li><a href=#viewの一括drop文>VIEWの一括DROP文</a></li><li><a href=#viewの一覧を作成するcreate文の一覧>VIEWの一覧を作成するCREATE文の一覧</a></li></ul></li><li><a href=#その他>その他</a><ul><li><a href=#sqlの実行計画>SQLの実行計画</a></li><li><a href=#一時的なテーブルの作成>一時的なテーブルの作成</a></li><li><a href=#データベースへのコネクション数>データベースへのコネクション数</a></li><li><a href=#プロセスを終了kill>プロセスを終了(KILL)</a></li><li><a href=#特定の時間を経過しているプロセスを確認>特定の時間を経過しているプロセスを確認</a></li><li><a href=#複数のプロセスを終了kill>複数のプロセスを終了(KILL)</a></li><li><a href=#テーブルのロック状態>テーブルのロック状態</a></li><li><a href=#トランザクション>トランザクション</a></li></ul></li><li><a href=#auto_increment自動採番>AUTO_INCREMENT（自動採番）</a><ul><li><a href=#auto_increment自動採番の値を確認>AUTO_INCREMENT（自動採番）の値を確認</a></li><li><a href=#auto_increment自動採番の値を変更>AUTO_INCREMENT（自動採番）の値を変更</a></li></ul></li><li><a href=#設定>設定</a><ul><li><a href=#トランザクションのタイムアウト>トランザクションのタイムアウト</a></li></ul></li><li><a href=#暗号化>暗号化</a></li></ul></nav></div></aside></main></body></html>